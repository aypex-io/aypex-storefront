"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e={exports:{}};!function(e){var t={exports:{}};!function(e,t){!function(t){e.exports=t()}((function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(e,t){var i=e[0],n=e[1],s=e[2],r=e[3];n=((n+=((s=((s+=((r=((r+=((i=((i+=(n&s|~n&r)+t[0]-680876936|0)<<7|i>>>25)+n|0)&n|~i&s)+t[1]-389564586|0)<<12|r>>>20)+i|0)&i|~r&n)+t[2]+606105819|0)<<17|s>>>15)+r|0)&r|~s&i)+t[3]-1044525330|0)<<22|n>>>10)+s|0,n=((n+=((s=((s+=((r=((r+=((i=((i+=(n&s|~n&r)+t[4]-176418897|0)<<7|i>>>25)+n|0)&n|~i&s)+t[5]+1200080426|0)<<12|r>>>20)+i|0)&i|~r&n)+t[6]-1473231341|0)<<17|s>>>15)+r|0)&r|~s&i)+t[7]-45705983|0)<<22|n>>>10)+s|0,n=((n+=((s=((s+=((r=((r+=((i=((i+=(n&s|~n&r)+t[8]+1770035416|0)<<7|i>>>25)+n|0)&n|~i&s)+t[9]-1958414417|0)<<12|r>>>20)+i|0)&i|~r&n)+t[10]-42063|0)<<17|s>>>15)+r|0)&r|~s&i)+t[11]-1990404162|0)<<22|n>>>10)+s|0,n=((n+=((s=((s+=((r=((r+=((i=((i+=(n&s|~n&r)+t[12]+1804603682|0)<<7|i>>>25)+n|0)&n|~i&s)+t[13]-40341101|0)<<12|r>>>20)+i|0)&i|~r&n)+t[14]-1502002290|0)<<17|s>>>15)+r|0)&r|~s&i)+t[15]+1236535329|0)<<22|n>>>10)+s|0,n=((n+=((s=((s+=((r=((r+=((i=((i+=(n&r|s&~r)+t[1]-165796510|0)<<5|i>>>27)+n|0)&s|n&~s)+t[6]-1069501632|0)<<9|r>>>23)+i|0)&n|i&~n)+t[11]+643717713|0)<<14|s>>>18)+r|0)&i|r&~i)+t[0]-373897302|0)<<20|n>>>12)+s|0,n=((n+=((s=((s+=((r=((r+=((i=((i+=(n&r|s&~r)+t[5]-701558691|0)<<5|i>>>27)+n|0)&s|n&~s)+t[10]+38016083|0)<<9|r>>>23)+i|0)&n|i&~n)+t[15]-660478335|0)<<14|s>>>18)+r|0)&i|r&~i)+t[4]-405537848|0)<<20|n>>>12)+s|0,n=((n+=((s=((s+=((r=((r+=((i=((i+=(n&r|s&~r)+t[9]+568446438|0)<<5|i>>>27)+n|0)&s|n&~s)+t[14]-1019803690|0)<<9|r>>>23)+i|0)&n|i&~n)+t[3]-187363961|0)<<14|s>>>18)+r|0)&i|r&~i)+t[8]+1163531501|0)<<20|n>>>12)+s|0,n=((n+=((s=((s+=((r=((r+=((i=((i+=(n&r|s&~r)+t[13]-1444681467|0)<<5|i>>>27)+n|0)&s|n&~s)+t[2]-51403784|0)<<9|r>>>23)+i|0)&n|i&~n)+t[7]+1735328473|0)<<14|s>>>18)+r|0)&i|r&~i)+t[12]-1926607734|0)<<20|n>>>12)+s|0,n=((n+=((s=((s+=((r=((r+=((i=((i+=(n^s^r)+t[5]-378558|0)<<4|i>>>28)+n|0)^n^s)+t[8]-2022574463|0)<<11|r>>>21)+i|0)^i^n)+t[11]+1839030562|0)<<16|s>>>16)+r|0)^r^i)+t[14]-35309556|0)<<23|n>>>9)+s|0,n=((n+=((s=((s+=((r=((r+=((i=((i+=(n^s^r)+t[1]-1530992060|0)<<4|i>>>28)+n|0)^n^s)+t[4]+1272893353|0)<<11|r>>>21)+i|0)^i^n)+t[7]-155497632|0)<<16|s>>>16)+r|0)^r^i)+t[10]-1094730640|0)<<23|n>>>9)+s|0,n=((n+=((s=((s+=((r=((r+=((i=((i+=(n^s^r)+t[13]+681279174|0)<<4|i>>>28)+n|0)^n^s)+t[0]-358537222|0)<<11|r>>>21)+i|0)^i^n)+t[3]-722521979|0)<<16|s>>>16)+r|0)^r^i)+t[6]+76029189|0)<<23|n>>>9)+s|0,n=((n+=((s=((s+=((r=((r+=((i=((i+=(n^s^r)+t[9]-640364487|0)<<4|i>>>28)+n|0)^n^s)+t[12]-421815835|0)<<11|r>>>21)+i|0)^i^n)+t[15]+530742520|0)<<16|s>>>16)+r|0)^r^i)+t[2]-995338651|0)<<23|n>>>9)+s|0,n=((n+=((r=((r+=(n^((i=((i+=(s^(n|~r))+t[0]-198630844|0)<<6|i>>>26)+n|0)|~s))+t[7]+1126891415|0)<<10|r>>>22)+i|0)^((s=((s+=(i^(r|~n))+t[14]-1416354905|0)<<15|s>>>17)+r|0)|~i))+t[5]-57434055|0)<<21|n>>>11)+s|0,n=((n+=((r=((r+=(n^((i=((i+=(s^(n|~r))+t[12]+1700485571|0)<<6|i>>>26)+n|0)|~s))+t[3]-1894986606|0)<<10|r>>>22)+i|0)^((s=((s+=(i^(r|~n))+t[10]-1051523|0)<<15|s>>>17)+r|0)|~i))+t[1]-2054922799|0)<<21|n>>>11)+s|0,n=((n+=((r=((r+=(n^((i=((i+=(s^(n|~r))+t[8]+1873313359|0)<<6|i>>>26)+n|0)|~s))+t[15]-30611744|0)<<10|r>>>22)+i|0)^((s=((s+=(i^(r|~n))+t[6]-1560198380|0)<<15|s>>>17)+r|0)|~i))+t[13]+1309151649|0)<<21|n>>>11)+s|0,n=((n+=((r=((r+=(n^((i=((i+=(s^(n|~r))+t[4]-145523070|0)<<6|i>>>26)+n|0)|~s))+t[11]-1120210379|0)<<10|r>>>22)+i|0)^((s=((s+=(i^(r|~n))+t[2]+718787259|0)<<15|s>>>17)+r|0)|~i))+t[9]-343485551|0)<<21|n>>>11)+s|0,e[0]=i+e[0]|0,e[1]=n+e[1]|0,e[2]=s+e[2]|0,e[3]=r+e[3]|0}function n(e){var t,i=[];for(t=0;t<64;t+=4)i[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return i}function s(e){var t,i=[];for(t=0;t<64;t+=4)i[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return i}function r(e){var t,s,r,o,a,c,l=e.length,h=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)i(h,n(e.substring(t-64,t)));for(s=(e=e.substring(t-64)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<s;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(i(h,r),t=0;t<16;t+=1)r[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,r[14]=a,r[15]=c,i(h,r),h}function o(e){var t,n,r,o,a,c,l=e.length,h=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)i(h,s(e.subarray(t-64,t)));for(n=(e=t-64<l?e.subarray(t-64):new Uint8Array(0)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(i(h,r),t=0;t<16;t+=1)r[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,r[14]=a,r[15]=c,i(h,r),h}function a(e){var i,n="";for(i=0;i<4;i+=1)n+=t[e>>8*i+4&15]+t[e>>8*i&15];return n}function c(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function l(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function h(e,t){var i,n=e.length,s=new ArrayBuffer(n),r=new Uint8Array(s);for(i=0;i<n;i+=1)r[i]=e.charCodeAt(i);return t?r:s}function u(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function d(e,t,i){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e)),n.set(new Uint8Array(t),e.byteLength),i?n:n.buffer}function p(e){var t,i=[],n=e.length;for(t=0;t<n-1;t+=2)i.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,i)}function m(){this.reset()}return c(r("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(i,n){var s,r,o,a,c=this.byteLength,l=t(i,c),h=c;return n!==e&&(h=t(n,c)),l>h?new ArrayBuffer(0):(s=h-l,r=new ArrayBuffer(s),o=new Uint8Array(r),a=new Uint8Array(this,l,s),o.set(a),r)}}(),m.prototype.append=function(e){return this.appendBinary(l(e)),this},m.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,s=this._buff.length;for(t=64;t<=s;t+=64)i(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},m.prototype.end=function(e){var t,i,n=this._buff,s=n.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<s;t+=1)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(r,s),i=c(this._hash),e&&(i=p(i)),this.reset(),i},m.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(e,t){var n,s,r,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(i(this._hash,e),o=0;o<16;o+=1)e[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(n[2],16),r=parseInt(n[1],16)||0,e[14]=s,e[15]=r,i(this._hash,e)},m.hash=function(e,t){return m.hashBinary(l(e),t)},m.hashBinary=function(e,t){var i=c(r(e));return t?p(i):i},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(e){var t,n=d(this._buff.buffer,e,!0),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)i(this._hash,s(n.subarray(t-64,t)));return this._buff=t-64<r?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(e){var t,i,n=this._buff,s=n.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<s;t+=1)r[t>>2]|=n[t]<<(t%4<<3);return this._finish(r,s),i=c(this._hash),e&&(i=p(i)),this.reset(),i},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var e=m.prototype.getState.call(this);return e.buff=u(e.buff),e},m.ArrayBuffer.prototype.setState=function(e){return e.buff=h(e.buff,!0),m.prototype.setState.call(this,e)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(e,t){var i=c(o(new Uint8Array(e)));return t?p(i):i},m}))}(t);var i=t.exports;const n=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice;class s{static create(e,t){new s(e).create(t)}constructor(e){this.file=e,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(e){this.callback=e,this.md5Buffer=new i.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",(e=>this.fileReaderDidLoad(e))),this.fileReader.addEventListener("error",(e=>this.fileReaderDidError(e))),this.readNextChunk()}fileReaderDidLoad(e){if(this.md5Buffer.append(e.target.result),!this.readNextChunk()){const e=this.md5Buffer.end(!0),t=btoa(e);this.callback(null,t)}}fileReaderDidError(e){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||0==this.chunkIndex&&0==this.chunkCount){const e=this.chunkIndex*this.chunkSize,t=Math.min(e+this.chunkSize,this.file.size),i=n.call(this.file,e,t);return this.fileReader.readAsArrayBuffer(i),this.chunkIndex++,!0}return!1}}function r(e){const t=a(document.head,`meta[name="${e}"]`);if(t)return t.getAttribute("content")}function o(e,t){return"string"==typeof e&&(t=e,e=document),l(e.querySelectorAll(t))}function a(e,t){return"string"==typeof e&&(t=e,e=document),e.querySelector(t)}function c(e,t,i={}){const{disabled:n}=e,{bubbles:s,cancelable:r,detail:o}=i,a=document.createEvent("Event");a.initEvent(t,s||!0,r||!0),a.detail=o||{};try{e.disabled=!1,e.dispatchEvent(a)}finally{e.disabled=n}return a}function l(e){return Array.isArray(e)?e:Array.from?Array.from(e):[].slice.call(e)}class h{constructor(e,t,i){this.file=e,this.attributes={filename:e.name,content_type:e.type||"application/octet-stream",byte_size:e.size,checksum:t},this.xhr=new XMLHttpRequest,this.xhr.open("POST",i,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");const n=r("csrf-token");null!=n&&this.xhr.setRequestHeader("X-CSRF-Token",n),this.xhr.addEventListener("load",(e=>this.requestDidLoad(e))),this.xhr.addEventListener("error",(e=>this.requestDidError(e)))}get status(){return this.xhr.status}get response(){const{responseType:e,response:t}=this.xhr;return"json"==e?t:JSON.parse(t)}create(e){this.callback=e,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(e){if(this.status>=200&&this.status<300){const{response:e}=this,{direct_upload:t}=e;delete e.direct_upload,this.attributes=e,this.directUploadData=t,this.callback(null,this.toJSON())}else this.requestDidError(e)}requestDidError(e){this.callback(`Error creating Blob for "${this.file.name}". Status: ${this.status}`)}toJSON(){const e={};for(const t in this.attributes)e[t]=this.attributes[t];return e}}class u{constructor(e){this.blob=e,this.file=e.file;const{url:t,headers:i}=e.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",t,!0),this.xhr.responseType="text";for(const e in i)this.xhr.setRequestHeader(e,i[e]);this.xhr.addEventListener("load",(e=>this.requestDidLoad(e))),this.xhr.addEventListener("error",(e=>this.requestDidError(e)))}create(e){this.callback=e,this.xhr.send(this.file.slice())}requestDidLoad(e){const{status:t,response:i}=this.xhr;t>=200&&t<300?this.callback(null,i):this.requestDidError(e)}requestDidError(e){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}}let d=0;class p{constructor(e,t,i){this.id=++d,this.file=e,this.url=t,this.delegate=i}create(e){s.create(this.file,((t,i)=>{if(t)return void e(t);const n=new h(this.file,i,this.url);m(this.delegate,"directUploadWillCreateBlobWithXHR",n.xhr),n.create((t=>{if(t)e(t);else{const t=new u(n);m(this.delegate,"directUploadWillStoreFileWithXHR",t.xhr),t.create((t=>{t?e(t):e(null,n.toJSON())}))}}))}))}}function m(e,t,...i){if(e&&"function"==typeof e[t])return e[t](...i)}class f{constructor(e,t){this.input=e,this.file=t,this.directUpload=new p(this.file,this.url,this),this.dispatch("initialize")}start(e){const t=document.createElement("input");t.type="hidden",t.name=this.input.name,this.input.insertAdjacentElement("beforebegin",t),this.dispatch("start"),this.directUpload.create(((i,n)=>{i?(t.parentNode.removeChild(t),this.dispatchError(i)):t.value=n.signed_id,this.dispatch("end"),e(i)}))}uploadRequestDidProgress(e){const t=e.loaded/e.total*100;t&&this.dispatch("progress",{progress:t})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(e,t={}){return t.file=this.file,t.id=this.directUpload.id,c(this.input,`direct-upload:${e}`,{detail:t})}dispatchError(e){this.dispatch("error",{error:e}).defaultPrevented||alert(e)}directUploadWillCreateBlobWithXHR(e){this.dispatch("before-blob-request",{xhr:e})}directUploadWillStoreFileWithXHR(e){this.dispatch("before-storage-request",{xhr:e}),e.upload.addEventListener("progress",(e=>this.uploadRequestDidProgress(e)))}}const g="input[type=file][data-direct-upload-url]:not([disabled])";class v{constructor(e){this.form=e,this.inputs=o(e,g).filter((e=>e.files.length))}start(e){const t=this.createDirectUploadControllers(),i=()=>{const n=t.shift();n?n.start((t=>{t?(e(t),this.dispatch("end")):i()})):(e(),this.dispatch("end"))};this.dispatch("start"),i()}createDirectUploadControllers(){const e=[];return this.inputs.forEach((t=>{l(t.files).forEach((i=>{const n=new f(t,i);e.push(n)}))})),e}dispatch(e,t={}){return c(this.form,`direct-uploads:${e}`,{detail:t})}}const b="data-direct-uploads-processing",y=new WeakMap;let w=!1;function _(){w||(w=!0,document.addEventListener("click",E,!0),document.addEventListener("submit",S,!0),document.addEventListener("ajax:before",A))}function E(e){const{target:t}=e;"INPUT"!=t.tagName&&"BUTTON"!=t.tagName||"submit"!=t.type||!t.form||y.set(t.form,t)}function S(e){C(e)}function A(e){"FORM"==e.target.tagName&&C(e)}function C(e){const t=e.target;if(t.hasAttribute(b))return void e.preventDefault();const i=new v(t),{inputs:n}=i;n.length&&(e.preventDefault(),t.setAttribute(b,""),n.forEach(L),i.start((e=>{t.removeAttribute(b),e?n.forEach(k):T(t)})))}function T(e){let t=y.get(e)||a(e,"input[type=submit], button[type=submit]");if(t){const{disabled:e}=t;t.disabled=!1,t.focus(),t.click(),t.disabled=e}else t=document.createElement("input"),t.type="submit",t.style.display="none",e.appendChild(t),t.click(),e.removeChild(t);y.delete(e)}function L(e){e.disabled=!0}function k(e){e.disabled=!1}function O(){window.ActiveStorage&&_()}setTimeout(O,1),e.DirectUpload=p,e.start=_,Object.defineProperty(e,"__esModule",{value:!0})}(e.exports);class t{constructor(t,i){this.attachment=t,this.element=i,this.directUpload=new e.exports.DirectUpload(t.file,this.directUploadUrl,this)}start(){this.directUpload.create(this.directUploadDidComplete.bind(this))}directUploadWillStoreFileWithXHR(e){e.upload.addEventListener("progress",(e=>{const t=e.loaded/e.total*100;this.attachment.setUploadProgress(t)}))}directUploadDidComplete(e,t){if(e)throw new Error(`Direct upload failed: ${e}`);this.attachment.setAttributes({sgid:t.attachable_sgid,url:this.createBlobUrl(t.signed_id,t.filename)})}createBlobUrl(e,t){return this.blobUrlTemplate.replace(":signed_id",e).replace(":filename",encodeURIComponent(t))}get directUploadUrl(){return this.element.dataset.directUploadUrl}get blobUrlTemplate(){return this.element.dataset.blobUrlTemplate}}addEventListener("trix-attachment-add",(e=>{const{attachment:i,target:n}=e;if(i.file){new t(i,n).start()}})),function(){if(void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;const e=HTMLElement,t=function(){return Reflect.construct(e,[],this.constructor)};window.HTMLElement=t,HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}(),function(e){function t(e,t,i){throw new e("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+t+".",i)}"function"!=typeof e.requestSubmit&&(e.requestSubmit=function(e){e?(!function(e,i){e instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),"submit"==e.type||t(TypeError,"The specified element is not a submit button"),e.form==i||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}(e,this),e.click()):((e=document.createElement("input")).type="submit",e.hidden=!0,this.appendChild(e),e.click(),this.removeChild(e))})}(HTMLFormElement.prototype);const i=new WeakMap;function n(e){const t=function(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null,i=t?t.closest("input, button"):null;return"submit"==(null==i?void 0:i.type)?i:null}(e.target);t&&t.form&&i.set(t.form,t)}var s,r,o,a,c,l;!function(){if("submitter"in Event.prototype)return;let e=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))e=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",n,!0),Object.defineProperty(e,"submitter",{get(){if("submit"==this.type&&this.target instanceof HTMLFormElement)return i.get(this.target)}})}(),function(e){e.eager="eager",e.lazy="lazy"}(s||(s={}));class h extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new h.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){"loading"==e?this.delegate.loadingStyleChanged():"complete"==e?this.delegate.completeChanged():"src"==e?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return function(e){if("lazy"===e.toLowerCase())return s.lazy;return s.eager}(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,t;return null===(t=null===(e=this.ownerDocument)||void 0===e?void 0:e.documentElement)||void 0===t?void 0:t.hasAttribute("data-turbo-preview")}}function u(e){return new URL(e.toString(),document.baseURI)}function d(e){let t;return e.hash?e.hash.slice(1):(t=e.href.match(/#(.*)$/))?t[1]:void 0}function p(e,t){return u((null==t?void 0:t.getAttribute("formaction"))||e.getAttribute("action")||e.action)}function m(e){return(function(e){return function(e){return e.pathname.split("/").slice(1)}(e).slice(-1)[0]}(e).match(/\.[^.]*$/)||[])[0]||""}function f(e,t){const i=function(e){return t=e.origin+e.pathname,t.endsWith("/")?t:t+"/";var t}(t);return e.href===u(i).href||e.href.startsWith(i)}function g(e,t){return f(e,t)&&!!m(e).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function v(e){const t=d(e);return null!=t?e.href.slice(0,-(t.length+1)):e.href}function b(e){return v(e)}class y{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return u(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}function w(e){if("false"==e.getAttribute("data-turbo-eval"))return e;{const t=document.createElement("script"),i=R("csp-nonce");return i&&(t.nonce=i),t.textContent=e.textContent,t.async=!1,function(e,t){for(const{name:i,value:n}of t.attributes)e.setAttribute(i,n)}(t,e),t}}function _(e,{target:t,cancelable:i,detail:n}={}){const s=new CustomEvent(e,{cancelable:i,bubbles:!0,composed:!0,detail:n});return t&&t.isConnected?t.dispatchEvent(s):document.documentElement.dispatchEvent(s),s}function E(){return new Promise((e=>requestAnimationFrame((()=>e()))))}function S(e=""){return(new DOMParser).parseFromString(e,"text/html")}function A(e,...t){const i=function(e,t){return e.reduce(((e,i,n)=>e+i+(null==t[n]?"":t[n])),"")}(e,t).replace(/^\n/,"").split("\n"),n=i[0].match(/^\s+/),s=n?n[0].length:0;return i.map((e=>e.slice(s))).join("\n")}function C(){return Array.from({length:36}).map(((e,t)=>8==t||13==t||18==t||23==t?"-":14==t?"4":19==t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16))).join("")}function T(e,...t){for(const i of t.map((t=>null==t?void 0:t.getAttribute(e))))if("string"==typeof i)return i;return null}function L(...e){for(const t of e)"turbo-frame"==t.localName&&t.setAttribute("busy",""),t.setAttribute("aria-busy","true")}function k(...e){for(const t of e)"turbo-frame"==t.localName&&t.removeAttribute("busy"),t.removeAttribute("aria-busy")}function O(e,t=2e3){return new Promise((i=>{const n=()=>{e.removeEventListener("error",n),e.removeEventListener("load",n),i()};e.addEventListener("load",n,{once:!0}),e.addEventListener("error",n,{once:!0}),setTimeout(i,t)}))}function M(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function x(...e){const t=T("data-turbo-action",...e);return function(e){return"advance"==e||"replace"==e||"restore"==e}(t)?t:null}function P(e){return document.querySelector(`meta[name="${e}"]`)}function R(e){const t=P(e);return t&&t.content}function N(e,t){var i;if(e instanceof Element)return e.closest(t)||N(e.assignedSlot||(null===(i=e.getRootNode())||void 0===i?void 0:i.host),t)}!function(e){e[e.get=0]="get",e[e.post=1]="post",e[e.put=2]="put",e[e.patch=3]="patch",e[e.delete=4]="delete"}(r||(r={}));class I{constructor(e,t,i,n=new URLSearchParams,s=null){this.abortController=new AbortController,this.resolveRequestPromise=e=>{},this.delegate=e,this.method=t,this.headers=this.defaultHeaders,this.body=n,this.url=i,this.target=s}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:e}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(e);try{this.delegate.requestStarted(this);const t=await fetch(this.url.href,e);return await this.receive(t)}catch(e){if("AbortError"!==e.name)throw this.willDelegateErrorHandling(e)&&this.delegate.requestErrored(this,e),e}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new y(e);return _("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get fetchOptions(){var e;return{method:r[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:null===(e=this.delegate.referrer)||void 0===e?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===r.get}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(e){const t=new Promise((e=>this.resolveRequestPromise=e));_("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await t}willDelegateErrorHandling(e){return!_("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}}class F{constructor(e,t){this.started=!1,this.intersect=e=>{const t=e.slice(-1)[0];(null==t?void 0:t.isIntersecting)&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class D{static wrap(e){return"string"==typeof e?new this(function(e){const t=document.createElement("template");return t.innerHTML=e,t.content}(e)):e}constructor(e){this.fragment=function(e){for(const t of e.querySelectorAll("turbo-stream")){const e=document.importNode(t,!0);for(const t of e.templateElement.content.querySelectorAll("script"))t.replaceWith(w(t));t.replaceWith(e)}return e}(e)}}D.contentType="text/vnd.turbo-stream.html",function(e){e[e.initialized=0]="initialized",e[e.requesting=1]="requesting",e[e.waiting=2]="waiting",e[e.receiving=3]="receiving",e[e.stopping=4]="stopping",e[e.stopped=5]="stopped"}(o||(o={})),function(e){e.urlEncoded="application/x-www-form-urlencoded",e.multipart="multipart/form-data",e.plain="text/plain"}(a||(a={}));class B{static confirmMethod(e,t,i){return Promise.resolve(confirm(e))}constructor(e,t,i,n=!1){this.state=o.initialized,this.delegate=e,this.formElement=t,this.submitter=i,this.formData=function(e,t){const i=new FormData(e),n=null==t?void 0:t.getAttribute("name"),s=null==t?void 0:t.getAttribute("value");n&&i.append(n,s||"");return i}(t,i),this.location=u(this.action),this.method==r.get&&function(e,t){const i=new URLSearchParams;for(const[e,n]of t)n instanceof File||i.append(e,n);e.search=i.toString()}(this.location,[...this.body.entries()]),this.fetchRequest=new I(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=n}get method(){var e;return function(e){switch(e.toLowerCase()){case"get":return r.get;case"post":return r.post;case"put":return r.put;case"patch":return r.patch;case"delete":return r.delete}}(((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"").toLowerCase())||r.get}get action(){var e;const t="string"==typeof this.formElement.action?this.formElement.action:null;return(null===(e=this.submitter)||void 0===e?void 0:e.hasAttribute("formaction"))?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||t||""}get body(){return this.enctype==a.urlEncoded||this.method==r.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return function(e){switch(e.toLowerCase()){case a.multipart:return a.multipart;case a.plain:return a.plain;default:return a.urlEncoded}}((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce(((e,[t,i])=>e.concat("string"==typeof i?[[t,i]]:[])),[])}async start(){const{initialized:e,requesting:t}=o,i=T("data-turbo-confirm",this.submitter,this.formElement);if("string"==typeof i){if(!await B.confirmMethod(i,this.formElement,this.submitter))return}if(this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=o;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){const t=function(e){if(null!=e){const t=(document.cookie?document.cookie.split("; "):[]).find((t=>t.startsWith(e)));if(t){const e=t.split("=").slice(1).join("=");return e?decodeURIComponent(e):void 0}}}(R("csrf-param"))||R("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(D.contentType)}requestStarted(e){var t;this.state=o.waiting,null===(t=this.submitter)||void 0===t||t.setAttribute("disabled",""),this.setSubmitsWith(),_("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&function(e){return 200==e.statusCode&&!e.redirected}(t)){const e=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,e)}else this.state=o.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){var t;this.state=o.stopped,null===(t=this.submitter)||void 0===t||t.removeAttribute("disabled"),this.resetSubmitterText(),_("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(this.submitter&&this.submitsWith)if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}resetSubmitterText(){if(this.submitter&&this.originalSubmitText)if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){this.submitter.value=this.originalSubmitText}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||function(e,...t){return t.some((t=>t&&t.hasAttribute(e)))}("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("data-turbo-submits-with")}}class ${constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return null!=this.getElementForAnchor(e)}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){for(const e of this.element.querySelectorAll("[autofocus]"))if(null==e.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])"))return e;return null}get permanentElements(){return q(this.element)}getPermanentElementById(e){return j(this.element,e)}getPermanentElementMapForSnapshot(e){const t={};for(const i of this.permanentElements){const{id:n}=i,s=e.getPermanentElementById(n);s&&(t[n]=[i,s])}return t}}function j(e,t){return e.querySelector(`#${t}[data-turbo-permanent]`)}function q(e){return e.querySelectorAll("[id][data-turbo-permanent]")}class H{constructor(e,t){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,i=e.submitter||void 0;t&&function(e,t){const i=(null==t?void 0:t.getAttribute("formmethod"))||e.getAttribute("method");return"dialog"!=i}(t,i)&&function(e,t){if((null==t?void 0:t.hasAttribute("formtarget"))||e.hasAttribute("target")){const i=(null==t?void 0:t.getAttribute("formtarget"))||e.target;for(const e of document.getElementsByName(i))if(e instanceof HTMLIFrameElement)return!1;return!0}return!0}(t,i)&&this.delegate.willSubmitForm(t,i)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(t,i))}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}class V{constructor(e,t){this.resolveRenderPromise=e=>{},this.resolveInterceptionPromise=e=>{},this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(d(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:i,newSnapshot:n}=e;if(i)try{this.renderPromise=new Promise((e=>this.resolveRenderPromise=e)),this.renderer=e,await this.prepareToRenderSnapshot(e);const i=new Promise((e=>this.resolveInterceptionPromise=e)),s={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(n,s)||await i,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(n,t),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}class W extends V{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new $(this.element)}}class U{constructor(e,t){this.clickBubbled=e=>{this.respondsToEventTarget(e.target)?this.clickEvent=e:delete this.clickEvent},this.linkClicked=e=>{this.clickEvent&&this.respondsToEventTarget(e.target)&&e.target instanceof Element&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent},this.willVisit=e=>{delete this.clickEvent},this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null;return t&&t.closest("turbo-frame, html")==this.element}}class z{constructor(e,t){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){const t=e.composedPath&&e.composedPath()[0]||e.target,i=this.findLinkFromClickTarget(t);if(i&&function(e){if(e.hasAttribute("target")){for(const t of document.getElementsByName(e.target))if(t instanceof HTMLIFrameElement)return!1;return!0}return!0}(i)){const t=this.getLocationForLink(i);this.delegate.willFollowLinkToLocation(i,t,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(i,t))}}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){return N(e,"a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return u(e.getAttribute("href")||"")}}class K{constructor(e,t){this.delegate=e,this.linkInterceptor=new z(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(e,t,i){return this.delegate.willSubmitFormLinkToLocation(e,t,i)&&e.hasAttribute("data-turbo-method")}followedLinkToLocation(e,t){const i=document.createElement("form");for(const[e,n]of t.searchParams)i.append(Object.assign(document.createElement("input"),{type:"hidden",name:e,value:n}));const n=Object.assign(t,{search:""});i.setAttribute("data-turbo","true"),i.setAttribute("action",n.href),i.setAttribute("hidden","");const s=e.getAttribute("data-turbo-method");s&&i.setAttribute("method",s);const r=e.getAttribute("data-turbo-frame");r&&i.setAttribute("data-turbo-frame",r);const o=x(e);o&&i.setAttribute("data-turbo-action",o);const a=e.getAttribute("data-turbo-confirm");a&&i.setAttribute("data-turbo-confirm",a);e.hasAttribute("data-turbo-stream")&&i.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,i),document.body.appendChild(i),i.addEventListener("turbo:submit-end",(()=>i.remove()),{once:!0}),requestAnimationFrame((()=>i.requestSubmit()))}}class X{static async preservingPermanentElements(e,t,i){const n=new this(e,t);n.enter(),await i(),n.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(const e in this.permanentElementMap){const[t,i]=this.permanentElementMap[e];this.delegate.enteringBardo(t,i),this.replaceNewPermanentElementWithPlaceholder(i)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=function(e){const t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",e.id),t}(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){const t=this.getPlaceholderById(e.id);null==t||t.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find((t=>t.content==e))}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}class Y{constructor(e,t,i,n,s=!0){this.activeElement=null,this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=n,this.willRender=s,this.renderElement=i,this.promise=new Promise(((e,t)=>this.resolvingFunctions={resolve:e,reject:t}))}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await X.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){const e=this.connectedSnapshot.firstAutofocusableElement;(function(e){return e&&"function"==typeof e.focus})(e)&&e.focus()}enteringBardo(e){this.activeElement||e.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}}class G extends Y{static renderElement(e,t){var i;const n=document.createRange();n.selectNodeContents(e),n.deleteContents();const s=t,r=null===(i=s.ownerDocument)||void 0===i?void 0:i.createRange();r&&(r.selectNodeContents(s),e.appendChild(r.extractContents()))}constructor(e,t,i,n,s,r=!0){super(t,i,n,s,r),this.delegate=e}get shouldRender(){return!0}async render(){await E(),this.preservingPermanentElements((()=>{this.loadFrameElement()})),this.scrollFrameIntoView(),await E(),this.focusFirstAutofocusableElement(),await E(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const i=this.currentElement.firstElementChild,n=(e=this.currentElement.getAttribute("data-autoscroll-block"),t="end","end"==e||"start"==e||"center"==e||"nearest"==e?e:t),s=function(e,t){return"auto"==e||"smooth"==e?e:t}(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(i)return i.scrollIntoView({block:n,behavior:s}),!0}var e,t;return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=w(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}class Q{static get defaultCSS(){return A`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${Q.animationDuration}ms ease-out,
          opacity ${Q.animationDuration/2}ms ${Q.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement((()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1})))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,1.5*Q.animationDuration)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,Q.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame((()=>{this.progressElement.style.width=10+90*this.value+"%"}))}createStylesheetElement(){const e=document.createElement("style");return e.type="text/css",e.textContent=Q.defaultCSS,this.cspNonce&&(e.nonce=this.cspNonce),e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}get cspNonce(){return R("csp-nonce")}}Q.animationDuration=300;class J extends ${constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter((e=>!function(e){const t=e.localName;return"noscript"==t}(e))).map((e=>function(e){e.hasAttribute("nonce")&&e.setAttribute("nonce","");return e}(e))).reduce(((e,t)=>{const{outerHTML:i}=t,n=i in e?e[i]:{type:Z(t),tracked:ee(t),elements:[]};return Object.assign(Object.assign({},e),{[i]:Object.assign(Object.assign({},n),{elements:[...n.elements,t]})})}),{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter((e=>this.detailsByOuterHTML[e].tracked)).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter((e=>!(e in t.detailsByOuterHTML))).map((e=>this.detailsByOuterHTML[e])).filter((({type:t})=>t==e)).map((({elements:[e]})=>e))}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce(((e,t)=>{const{type:i,tracked:n,elements:s}=this.detailsByOuterHTML[t];return null!=i||n?s.length>1?[...e,...s.slice(1)]:e:[...e,...s]}),[])}getMetaValue(e){const t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce(((t,i)=>{const{elements:[n]}=this.detailsByOuterHTML[i];return function(e,t){const i=e.localName;return"meta"==i&&e.getAttribute("name")==t}(n,e)?n:t}),void 0)}}function Z(e){return function(e){const t=e.localName;return"script"==t}(e)?"script":function(e){const t=e.localName;return"style"==t||"link"==t&&"stylesheet"==e.getAttribute("rel")}(e)?"stylesheet":void 0}function ee(e){return"reload"==e.getAttribute("data-turbo-track")}class te extends ${static fromHTMLString(e=""){return this.fromDocument(S(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:t}){return new this(t,new J(e))}constructor(e,t){super(e),this.headSnapshot=t}clone(){const e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),i=e.querySelectorAll("select");for(const[e,n]of t.entries()){const t=i[e];for(const e of t.selectedOptions)e.selected=!1;for(const e of n.selectedOptions)t.options[e.index].selected=!0}for(const t of e.querySelectorAll('input[type="password"]'))t.value="";return new te(e,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;return u(null!==(e=this.getSetting("root"))&&void 0!==e?e:"/")}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return"no-preview"!=this.cacheControlValue}get isCacheable(){return"no-cache"!=this.cacheControlValue}get isVisitable(){return"reload"!=this.getSetting("visit-control")}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}!function(e){e.visitStart="visitStart",e.requestStart="requestStart",e.requestEnd="requestEnd",e.visitEnd="visitEnd"}(c||(c={})),function(e){e.initialized="initialized",e.started="started",e.canceled="canceled",e.failed="failed",e.completed="completed"}(l||(l={}));const ie={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1};var ne,se;!function(e){e[e.networkFailure=0]="networkFailure",e[e.timeoutFailure=-1]="timeoutFailure",e[e.contentTypeMismatch=-2]="contentTypeMismatch"}(ne||(ne={}));class re{constructor(e,t,i,n={}){this.identifier=C(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=l.initialized,this.delegate=e,this.location=t,this.restorationIdentifier=i||C();const{action:s,historyChanged:r,referrer:o,snapshot:a,snapshotHTML:c,response:h,visitCachedSnapshot:u,willRender:d,updateHistory:p,shouldCacheSnapshot:m,acceptsStreamResponse:f}=Object.assign(Object.assign({},ie),n);this.action=s,this.historyChanged=r,this.referrer=o,this.snapshot=a,this.snapshotHTML=c,this.response=h,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=u,this.willRender=d,this.updateHistory=p,this.scrolled=!d,this.shouldCacheSnapshot=m,this.acceptsStreamResponse=f}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==l.initialized&&(this.recordTimingMetric(c.visitStart),this.state=l.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==l.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=l.canceled)}complete(){this.state==l.started&&(this.recordTimingMetric(c.visitEnd),this.state=l.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==l.started&&(this.state=l.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){const t=M(this.location.href===(null===(e=this.referrer)||void 0===e?void 0:e.href)?"replace":this.action);this.history.update(t,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new I(this,r.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(c.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;oe(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(c.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render((async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,oe(e)&&null!=t?(await this.view.renderPage(te.fromHTMLString(t),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(te.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail())}))}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!d(this.location)||e.hasAnchor(d(this.location)))&&("restore"==this.action||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return te.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return null!=this.getCachedSnapshot()}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render((async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,t,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),t||this.complete())}))}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&(null===(e=this.response)||void 0===e?void 0:e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render((async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)}))}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(D.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const i=await t.responseHTML,{redirected:n,statusCode:s}=t;null==i?this.recordResponse({statusCode:ne.contentTypeMismatch,redirected:n}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:s,responseHTML:i,redirected:n}))}async requestFailedWithResponse(e,t){const i=await t.responseHTML,{redirected:n,statusCode:s}=t;null==i?this.recordResponse({statusCode:ne.contentTypeMismatch,redirected:n}):this.recordResponse({statusCode:s,responseHTML:i,redirected:n})}requestErrored(e,t){this.recordResponse({statusCode:ne.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){this.scrolled||this.view.forceReloaded||("restore"==this.action?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=d(this.location);if(null!=e)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=(new Date).getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return"object"==typeof this.response}shouldIssueRequest(){return!this.isSamePage&&("restore"==this.action?!this.hasCachedSnapshot():this.willRender)}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then((e=>e&&this.visitCachedSnapshot(e))),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise((e=>{this.frame=requestAnimationFrame((()=>e()))})),await e(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function oe(e){return e>=200&&e<300}class ae{constructor(e){this.progressBar=new Q,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,t){this.navigator.startVisit(e,(null==t?void 0:t.restorationIdentifier)||C(),t)}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!=e.action?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case ne.networkFailure:case ne.timeoutFailure:case ne.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(e){this.reload(e)}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),null!=this.visitProgressBarTimeout&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){null==this.formProgressBarTimeout&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),null!=this.formProgressBarTimeout&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var t;_("turbo:reload",{detail:e}),window.location.href=(null===(t=this.location)||void 0===t?void 0:t.toString())||window.location.href}get navigator(){return this.session.navigator}}class ce{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=e=>{for(const e of this.temporaryElements)e.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}}class le{constructor(e,t){this.session=e,this.element=t,this.linkInterceptor=new U(this,t),this.formSubmitObserver=new H(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,i){return this.shouldRedirect(e)}linkClickIntercepted(e,t,i){const n=this.findFrameElement(e);n&&n.delegate.linkClickIntercepted(e,t,i)}willSubmitForm(e,t){return null==e.closest("turbo-frame")&&this.shouldSubmit(e,t)&&this.shouldRedirect(e,t)}formSubmitted(e,t){const i=this.findFrameElement(e,t);i&&i.delegate.formSubmitted(e,t)}shouldSubmit(e,t){var i;const n=p(e,t),s=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),r=u(null!==(i=null==s?void 0:s.content)&&void 0!==i?i:"/");return this.shouldRedirect(e,t)&&g(n,r)}shouldRedirect(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){const i=this.findFrameElement(e,t);return!!i&&i!=e.closest("turbo-frame")}return!1}findFrameElement(e,t){const i=(null==t?void 0:t.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(i&&"_top"!=i){const e=this.element.querySelector(`#${i}:not([disabled])`);if(e instanceof h)return e}}}class he{constructor(e){this.restorationIdentifier=C(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=e=>{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);const{restorationIdentifier:e}=t;this.restorationIdentifier=e,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,e)}}},this.onPageLoad=async e=>{await Promise.resolve(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,i=C()){const n={turbo:{restorationIdentifier:i}};e.call(history,n,"",t.href),this.location=t,this.restorationIdentifier=i}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,i=this.restorationData[t];this.restorationData[t]=Object.assign(Object.assign({},i),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=null!==(e=history.scrollRestoration)&&void 0!==e?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||"complete"==document.readyState}}class ue{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&(g(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,t):window.location.href=e.toString())}startVisit(e,t,i={}){this.stop(),this.currentVisit=new re(this,u(e),t,Object.assign({referrer:this.location},i)),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new B(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){"function"==typeof this.adapter.formSubmissionStarted&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const i=await t.responseHTML;if(i){const n=e.isSafe;n||this.view.clearSnapshotCache();const{statusCode:s,redirected:r}=t,o={action:this.getActionForFormSubmission(e),shouldCacheSnapshot:n,response:{statusCode:s,responseHTML:i,redirected:r}};this.proposeVisit(t.location,o)}}}async formSubmissionFailedWithResponse(e,t){const i=await t.responseHTML;if(i){const e=te.fromHTMLString(i);t.serverError?await this.view.renderError(e,this.currentVisit):await this.view.renderPage(e,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){"function"==typeof this.adapter.formSubmissionFinished&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,t){const i=d(e),n=d(this.view.lastRenderedLocation),s="restore"===t&&void 0===i;return"replace"!==t&&v(e)===v(this.view.lastRenderedLocation)&&(s||null!=i&&i!==n)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:e,formElement:t}){return x(e,t)||"advance"}}!function(e){e[e.initial=0]="initial",e[e.loading=1]="loading",e[e.interactive=2]="interactive",e[e.complete=3]="complete"}(se||(se={}));class de{constructor(e){this.stage=se.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:e}=this;"interactive"==e?this.pageIsInteractive():"complete"==e&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==se.initial&&(this.stage=se.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==se.loading&&(this.stage=se.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==se.interactive&&(this.stage=se.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class pe{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class me{render({fragment:e}){X.preservingPermanentElements(this,function(e){const t=q(document.documentElement),i={};for(const n of t){const{id:t}=n;for(const s of e.querySelectorAll("turbo-stream")){const e=j(s.templateElement.content,t);e&&(i[t]=[n,e])}}return i}(e),(()=>document.documentElement.appendChild(e)))}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}}class fe{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=e=>{const t=function(e){var t;const i=null===(t=e.detail)||void 0===t?void 0:t.fetchResponse;if(i instanceof y)return i}(e);t&&function(e){var t;const i=null!==(t=e.contentType)&&void 0!==t?t:"";return i.startsWith(D.contentType)}(t)&&(e.preventDefault(),this.receiveMessageResponse(t))},this.receiveMessageEvent=e=>{this.started&&"string"==typeof e.data&&this.receiveMessageHTML(e.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(D.wrap(e))}}class ge extends Y{static renderElement(e,t){const{documentElement:i,body:n}=document;i.replaceChild(t,n)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const i=w(e);t.replaceChild(i,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}class ve extends Y{static renderElement(e,t){document.body&&t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){return this.newSnapshot.isVisitable?this.trackedElementsAreIdentical?void 0:{reason:"tracked_element_mismatch"}:{reason:"turbo_visit_control_is_reload"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const e=this.mergeProvisionalElements(),t=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await t}async replaceBody(){await this.preservingPermanentElements((async()=>{this.activateNewBody(),await this.assignNewBody()}))}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const e=[];for(const t of this.newHeadStylesheetElements)e.push(O(t)),document.head.appendChild(t);await Promise.all(e)}copyNewHeadScriptElements(){for(const e of this.newHeadScriptElements)document.head.appendChild(w(e))}async mergeProvisionalElements(){const e=[...this.newHeadProvisionalElements];for(const t of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(t,e)||document.head.removeChild(t);for(const t of e)document.head.appendChild(t)}isCurrentElementInElementList(e,t){for(const[i,n]of t.entries()){if("TITLE"==e.tagName){if("TITLE"!=n.tagName)continue;if(e.innerHTML==n.innerHTML)return t.splice(i,1),!0}if(n.isEqualNode(e))return t.splice(i,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(const e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const e of this.newBodyScriptElements){const t=w(e);e.replaceWith(t)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class be{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return b(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[b(e)]}write(e,t){this.snapshots[b(e)]=t}touch(e){const t=b(e),i=this.keys.indexOf(t);i>-1&&this.keys.splice(i,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class ye extends V{constructor(){super(...arguments),this.snapshotCache=new be(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(e,t=!1,i=!0,n){const s=new ve(this.snapshot,e,ve.renderElement,t,i);return s.shouldRender?null==n||n.changeHistory():this.forceReloaded=!0,this.render(s)}renderError(e,t){null==t||t.changeHistory();const i=new ge(this.snapshot,e,ge.renderElement,!1);return this.render(i)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:t}=this;await new Promise((e=>setTimeout((()=>e()),0)));const i=e.clone();return this.snapshotCache.put(t,i),i}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return te.fromElement(this.element)}}class we{constructor(e){this.selector="a[data-turbo-preload]",this.delegate=e}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if("loading"===document.readyState)return document.addEventListener("DOMContentLoaded",(()=>{this.preloadOnLoadLinksForView(document.body)}));this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(e){for(const t of e.querySelectorAll(this.selector))this.preloadURL(t)}async preloadURL(e){const t=new URL(e.href);if(!this.snapshotCache.has(t))try{const e=await fetch(t.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}}),i=await e.text(),n=te.fromHTMLString(i);this.snapshotCache.put(t,n)}catch(e){}}}function _e(e){Object.defineProperties(e,Ee)}const Ee={absoluteURL:{get(){return this.toString()}}};const Se={after(){this.targetElements.forEach((e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.insertBefore(this.templateContent,e.nextSibling)}))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((e=>e.append(this.templateContent)))},before(){this.targetElements.forEach((e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.insertBefore(this.templateContent,e)}))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((e=>e.prepend(this.templateContent)))},remove(){this.targetElements.forEach((e=>e.remove()))},replace(){this.targetElements.forEach((e=>e.replaceWith(this.templateContent)))},update(){this.targetElements.forEach((e=>{e.innerHTML="",e.append(this.templateContent)}))}},Ae=new class{constructor(){this.navigator=new ue(this),this.history=new he(this),this.preloader=new we(this),this.view=new ye(this,document.documentElement),this.adapter=new ae(this),this.pageObserver=new de(this),this.cacheObserver=new ce,this.linkClickObserver=new z(this,window),this.formSubmitObserver=new H(this,document),this.scrollObserver=new pe(this),this.streamObserver=new fe(this),this.formLinkClickObserver=new K(this,document.documentElement),this.frameRedirector=new le(this,document.documentElement),this.streamMessageRenderer=new me,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){const i=t.frame?document.getElementById(t.frame):null;i instanceof h?(i.src=e.toString(),i.loaded):this.navigator.proposeVisit(u(e),t)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(D.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,t){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&g(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(e,t,i){return this.elementIsNavigatable(e)&&g(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,i)}followedLinkToLocation(e,t){const i=this.getActionForLink(e),n=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:i,acceptsStreamResponse:n})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){_e(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||L(document.documentElement),_e(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){k(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const i=p(e,t);return this.submissionIsNavigatable(e,t)&&g(u(i),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;(null===(e=this.navigator.currentVisit)||void 0===e?void 0:e.silent)||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){const i=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:n,detail:{render:s}}=i;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!n}viewRenderedSnapshot(e,t){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,i){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,i).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,i){return _("turbo:click",{target:e,detail:{url:t.href,originalEvent:i},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return _("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return _("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return _("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return _("turbo:before-render",{detail:Object.assign({newBody:e},t),cancelable:!0})}notifyApplicationAfterRender(){return _("turbo:render")}notifyApplicationAfterPageLoad(e={}){return _("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return _("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return _("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if("off"==this.formMode)return!1;{const i=!t||this.elementIsNavigatable(t);return"optin"==this.formMode?i&&null!=e.closest('[data-turbo="true"]'):i&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){const t=N(e,"[data-turbo]"),i=N(e,"turbo-frame");return this.drive||i?!t||"false"!=t.getAttribute("data-turbo"):!!t&&"true"==t.getAttribute("data-turbo")}getActionForLink(e){return x(e)||"advance"}get snapshot(){return this.view.snapshot}},Ce=new class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(e){!function(e,t){let i=P(e);i||(i=document.createElement("meta"),i.setAttribute("name",e),document.head.appendChild(i)),i.setAttribute("content",t)}("turbo-cache-control",e)}}(Ae),{navigator:Te}=Ae;function Le(){Ae.start()}function ke(e){Ae.connectStreamSource(e)}function Oe(e){Ae.disconnectStreamSource(e)}var Me=Object.freeze({__proto__:null,navigator:Te,session:Ae,cache:Ce,PageRenderer:ve,PageSnapshot:te,FrameRenderer:G,start:Le,registerAdapter:function(e){Ae.registerAdapter(e)},visit:function(e,t){Ae.visit(e,t)},connectStreamSource:ke,disconnectStreamSource:Oe,renderStreamMessage:function(e){Ae.renderStreamMessage(e)},clearCache:function(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ae.clearCache()},setProgressBarDelay:function(e){Ae.setProgressBarDelay(e)},setConfirmMethod:function(e){B.confirmMethod=e},setFormMode:function(e){Ae.setFormMode(e)},StreamActions:Se});class xe extends Error{}function Pe(e){if(null!=e){const t=document.getElementById(e);if(t instanceof h)return t}}function Re(e,t){if(e){const i=e.getAttribute("src");if(null!=i&&null!=t&&function(e,t){return u(e).href==u(t).href}(i,t))throw new Error(`Matching <turbo-frame id="${e.id}"> element has a source URL which references itself`);if(e.ownerDocument!==document&&(e=document.importNode(e,!0)),e instanceof h)return e.connectedCallback(),e.disconnectedCallback(),e}}class Ne extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return null!==(e=this.renderPromise)&&void 0!==e?e:this.renderPromise=(async()=>{const e=this.beforeRenderEvent;this.dispatchEvent(e)&&(await E(),await e.detail.render(this))})()}disconnect(){try{this.remove()}catch(e){}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach((e=>e.remove()))}get duplicateChildren(){var e;const t=this.targetElements.flatMap((e=>[...e.children])).filter((e=>!!e.id)),i=[...(null===(e=this.templateContent)||void 0===e?void 0:e.children)||[]].filter((e=>!!e.id)).map((e=>e.id));return t.filter((e=>i.includes(e.id)))}get performAction(){if(this.action){const e=Se[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){return this.target?this.targetElementsById:this.targets?this.targetElementsByQuery:void this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(null===this.firstElementChild){const e=this.ownerDocument.createElement("template");return this.appendChild(e),e}if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,t;return null!==(t=(null!==(e=this.outerHTML.match(/<[^>]+>/))&&void 0!==e?e:[])[0])&&void 0!==t?t:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:Ne.renderElement}})}get targetElementsById(){var e;const t=null===(e=this.ownerDocument)||void 0===e?void 0:e.getElementById(this.target);return null!==t?[t]:[]}get targetElementsByQuery(){var e;const t=null===(e=this.ownerDocument)||void 0===e?void 0:e.querySelectorAll(this.targets);return 0!==t.length?Array.prototype.slice.call(t):[]}}class Ie extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),ke(this.streamSource)}disconnectedCallback(){this.streamSource&&Oe(this.streamSource)}get src(){return this.getAttribute("src")||""}}let Fe;async function De(){return Fe||Be(async function(){const{createConsumer:e}=await Promise.resolve().then((function(){return Uu}));return e()}().then(Be))}function Be(e){return Fe=e}function $e(e){return e&&"object"==typeof e?e instanceof Date||e instanceof RegExp?e:Array.isArray(e)?e.map($e):Object.keys(e).reduce((function(t,i){return t[i[0].toLowerCase()+i.slice(1).replace(/([A-Z]+)/g,(function(e,t){return"_"+t.toLowerCase()}))]=$e(e[i]),t}),{}):e}h.delegateConstructor=class{constructor(e){this.fetchResponseLoaded=e=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:e})=>{const t=e.querySelector("#"+this.element.id);t&&this.previousFrameElement&&t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=e,this.view=new W(this,this.element),this.appearanceObserver=new F(this,this.element),this.formLinkClickObserver=new K(this,this.element),this.linkInterceptor=new U(this,this.element),this.restorationIdentifier=C(),this.formSubmitObserver=new H(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==s.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==s.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==s.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){const{src:e}=this.element;return this.ignoringChangesToAttribute("complete",(()=>{this.element.removeAttribute("complete")})),this.element.src=null,this.element.src=e,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==s.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(u(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const i=S(t);te.fromDocument(i).isVisitable?await this.loadFrameResponse(e,i):await this.handleUnvisitableFrameResponse(e)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,e),this.loadSourceURL()}willSubmitFormLinkToLocation(e){return this.shouldInterceptNavigation(e)}submittedFormLinkToLocation(e,t,i){const n=this.findFrameElement(e);n&&i.setAttribute("data-turbo-frame",n.id)}shouldInterceptLinkClick(e,t,i){return this.shouldInterceptNavigation(e)}linkClickIntercepted(e,t){this.navigateFrame(e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new B(this,e,t);const{fetchRequest:i}=this.formSubmission;this.prepareRequest(i),this.formSubmission.start()}prepareRequest(e){var t;e.headers["Turbo-Frame"]=this.id,(null===(t=this.currentNavigationElement)||void 0===t?void 0:t.hasAttribute("data-turbo-stream"))&&e.acceptResponseType(D.contentType)}requestStarted(e){L(this.element)}requestPreventedHandlingResponse(e,t){this.resolveVisitPromise()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}async requestFailedWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}requestErrored(e,t){console.error(t),this.resolveVisitPromise()}requestFinished(e){k(this.element)}formSubmissionStarted({formElement:e}){L(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,t){const i=this.findFrameElement(e.formElement,e.submitter);i.delegate.proposeVisitIfNavigatedWithAction(i,e.formElement,e.submitter),i.delegate.loadResponse(t),e.isSafe||Ae.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),Ae.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){k(e,this.findFrameElement(e))}allowsImmediateRender({element:e},t){const i=_("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:e},t),cancelable:!0}),{defaultPrevented:n,detail:{render:s}}=i;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!n}viewRenderedSnapshot(e,t){}preloadOnLoadLinksForView(e){Ae.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}async loadFrameResponse(e,t){const i=await this.extractForeignFrameElement(t.body);if(i){const t=new $(i),n=new G(this,this.view.snapshot,t,G.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(n),this.complete=!0,Ae.frameRendered(e,this.element),Ae.frameLoaded(this.element),this.fetchResponseLoaded(e)}else this.willHandleFrameMissingFromResponse(e)&&this.handleFrameMissingFromResponse(e)}async visit(e){var t;const i=new I(this,r.get,e,new URLSearchParams,this.element);return null===(t=this.currentFetchRequest)||void 0===t||t.cancel(),this.currentFetchRequest=i,new Promise((e=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,e()},i.perform()}))}navigateFrame(e,t,i){const n=this.findFrameElement(e,i);n.delegate.proposeVisitIfNavigatedWithAction(n,e,i),this.withCurrentNavigationElement(e,(()=>{n.src=t}))}proposeVisitIfNavigatedWithAction(e,t,i){if(this.action=x(i,t,e),this.action){const t=te.fromElement(e).clone(),{visitCachedSnapshot:i}=e.delegate;e.delegate.fetchResponseLoaded=n=>{if(e.src){const{statusCode:s,redirected:r}=n,o={response:{statusCode:s,redirected:r,responseHTML:e.ownerDocument.documentElement.outerHTML},visitCachedSnapshot:i,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:t};this.action&&(o.action=this.action),Ae.visit(e.src,o)}}}}changeHistory(){if(this.action){const e=M(this.action);Ae.history.update(e,u(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(e.response)}willHandleFrameMissingFromResponse(e){this.element.setAttribute("complete","");const t=e.response;return!_("turbo:frame-missing",{target:this.element,detail:{response:t,visit:async(e,t={})=>{e instanceof Response?this.visitResponse(e):Ae.visit(e,t)}},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(e){this.view.missing(),this.throwFrameMissingError(e)}throwFrameMissingError(e){const t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new xe(t)}async visitResponse(e){const t=new y(e),i=await t.responseHTML,{location:n,redirected:s,statusCode:r}=t;return Ae.visit(n,{response:{redirected:s,statusCode:r,responseHTML:i}})}findFrameElement(e,t){var i;return null!==(i=Pe(T("data-turbo-frame",t,e)||this.element.getAttribute("target")))&&void 0!==i?i:this.element}async extractForeignFrameElement(e){let t;const i=CSS.escape(this.id);try{if(t=Re(e.querySelector(`turbo-frame#${i}`),this.sourceURL),t)return t;if(t=Re(e.querySelector(`turbo-frame[src][recurse~=${i}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(e){return console.error(e),new h}return null}formActionIsVisitable(e,t){return g(u(p(e,t)),this.rootLocation)}shouldInterceptNavigation(e,t){const i=T("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,t))return!1;if(!this.enabled||"_top"==i)return!1;if(i){const e=Pe(i);if(e)return!e.disabled}return!!Ae.elementIsNavigatable(e)&&!(t&&!Ae.elementIsNavigatable(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.ignoringChangesToAttribute("src",(()=>{this.element.src=null!=e?e:null}))}get loadingStyle(){return this.element.loading}get isLoading(){return void 0!==this.formSubmission||void 0!==this.resolveVisitPromise()}get complete(){return this.element.hasAttribute("complete")}set complete(e){this.ignoringChangesToAttribute("complete",(()=>{e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}))}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;const t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]');return u(null!==(e=null==t?void 0:t.content)&&void 0!==e?e:"/")}isIgnoringChangesTo(e){return this.ignoredAttributes.has(e)}ignoringChangesToAttribute(e,t){this.ignoredAttributes.add(e),t(),this.ignoredAttributes.delete(e)}withCurrentNavigationElement(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}},void 0===customElements.get("turbo-frame")&&customElements.define("turbo-frame",h),void 0===customElements.get("turbo-stream")&&customElements.define("turbo-stream",Ne),void 0===customElements.get("turbo-stream-source")&&customElements.define("turbo-stream-source",Ie),(()=>{let e=document.currentScript;if(e&&!e.hasAttribute("data-turbo-suppress-warning"))for(e=e.parentElement;e;){if(e==document.body)return console.warn(A`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,e.outerHTML);e=e.parentElement}})(),window.Turbo=Me,Le();class je extends HTMLElement{async connectedCallback(){ke(this),this.subscription=await async function(e,t){const{subscriptions:i}=await De();return i.create(e,t)}(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){Oe(this),this.subscription&&this.subscription.unsubscribe()}dispatchMessageEvent(e){const t=new MessageEvent("message",{data:e});return this.dispatchEvent(t)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){return{channel:this.getAttribute("channel"),signed_stream_name:this.getAttribute("signed-stream-name"),...$e({...this.dataset})}}}void 0===customElements.get("turbo-cable-stream-source")&&customElements.define("turbo-cable-stream-source",je),addEventListener("turbo:before-fetch-request",(function(e){if(e.target instanceof HTMLFormElement){const{target:t,detail:{fetchOptions:i}}=e;t.addEventListener("turbo:submit-start",(({detail:{formSubmission:{submitter:e}}})=>{const n=function(e){return e instanceof FormData||e instanceof URLSearchParams}(i.body)?i.body:new URLSearchParams,s=function(e,t,i){const n=function(e){return(e instanceof HTMLButtonElement||e instanceof HTMLInputElement)&&e.hasAttribute("formmethod")?e.formMethod:null}(e),s=t.get("_method"),r=i.getAttribute("method")||"get";return"string"==typeof n?n:"string"==typeof s?s:r}(e,n,t);/get/i.test(s)||(/post/i.test(s)?n.delete("_method"):n.set("_method",s),i.method="post")}),{once:!0})}}));var qe="top",He="bottom",Ve="right",We="left",Ue="auto",ze=[qe,He,Ve,We],Ke="start",Xe="end",Ye="clippingParents",Ge="viewport",Qe="popper",Je="reference",Ze=ze.reduce((function(e,t){return e.concat([t+"-"+Ke,t+"-"+Xe])}),[]),et=[].concat(ze,[Ue]).reduce((function(e,t){return e.concat([t,t+"-"+Ke,t+"-"+Xe])}),[]),tt="beforeRead",it="read",nt="afterRead",st="beforeMain",rt="main",ot="afterMain",at="beforeWrite",ct="write",lt="afterWrite",ht=[tt,it,nt,st,rt,ot,at,ct,lt];function ut(e){return e?(e.nodeName||"").toLowerCase():null}function dt(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function pt(e){return e instanceof dt(e).Element||e instanceof Element}function mt(e){return e instanceof dt(e).HTMLElement||e instanceof HTMLElement}function ft(e){return"undefined"!=typeof ShadowRoot&&(e instanceof dt(e).ShadowRoot||e instanceof ShadowRoot)}var gt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},s=t.elements[e];mt(s)&&ut(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],s=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});mt(n)&&ut(n)&&(Object.assign(n.style,r),Object.keys(s).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};function vt(e){return e.split("-")[0]}var bt=Math.max,yt=Math.min,wt=Math.round;function _t(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Et(){return!/^((?!chrome|android).)*safari/i.test(_t())}function St(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),s=1,r=1;t&&mt(e)&&(s=e.offsetWidth>0&&wt(n.width)/e.offsetWidth||1,r=e.offsetHeight>0&&wt(n.height)/e.offsetHeight||1);var o=(pt(e)?dt(e):window).visualViewport,a=!Et()&&i,c=(n.left+(a&&o?o.offsetLeft:0))/s,l=(n.top+(a&&o?o.offsetTop:0))/r,h=n.width/s,u=n.height/r;return{width:h,height:u,top:l,right:c+h,bottom:l+u,left:c,x:c,y:l}}function At(e){var t=St(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function Ct(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&ft(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Tt(e){return dt(e).getComputedStyle(e)}function Lt(e){return["table","td","th"].indexOf(ut(e))>=0}function kt(e){return((pt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ot(e){return"html"===ut(e)?e:e.assignedSlot||e.parentNode||(ft(e)?e.host:null)||kt(e)}function Mt(e){return mt(e)&&"fixed"!==Tt(e).position?e.offsetParent:null}function xt(e){for(var t=dt(e),i=Mt(e);i&&Lt(i)&&"static"===Tt(i).position;)i=Mt(i);return i&&("html"===ut(i)||"body"===ut(i)&&"static"===Tt(i).position)?t:i||function(e){var t=/firefox/i.test(_t());if(/Trident/i.test(_t())&&mt(e)&&"fixed"===Tt(e).position)return null;var i=Ot(e);for(ft(i)&&(i=i.host);mt(i)&&["html","body"].indexOf(ut(i))<0;){var n=Tt(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function Pt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Rt(e,t,i){return bt(e,yt(t,i))}function Nt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function It(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}var Ft={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,s=e.options,r=i.elements.arrow,o=i.modifiersData.popperOffsets,a=vt(i.placement),c=Pt(a),l=[We,Ve].indexOf(a)>=0?"height":"width";if(r&&o){var h=function(e,t){return Nt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:It(e,ze))}(s.padding,i),u=At(r),d="y"===c?qe:We,p="y"===c?He:Ve,m=i.rects.reference[l]+i.rects.reference[c]-o[c]-i.rects.popper[l],f=o[c]-i.rects.reference[c],g=xt(r),v=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,b=m/2-f/2,y=h[d],w=v-u[l]-h[p],_=v/2-u[l]/2+b,E=Rt(y,_,w),S=c;i.modifiersData[n]=((t={})[S]=E,t.centerOffset=E-_,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&("production"!==process.env.NODE_ENV&&(mt(n)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),Ct(t.elements.popper,n)?t.elements.arrow=n:"production"!==process.env.NODE_ENV&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dt(e){return e.split("-")[1]}var Bt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $t(e){var t,i=e.popper,n=e.popperRect,s=e.placement,r=e.variation,o=e.offsets,a=e.position,c=e.gpuAcceleration,l=e.adaptive,h=e.roundOffsets,u=e.isFixed,d=o.x,p=void 0===d?0:d,m=o.y,f=void 0===m?0:m,g="function"==typeof h?h({x:p,y:f}):{x:p,y:f};p=g.x,f=g.y;var v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),y=We,w=qe,_=window;if(l){var E=xt(i),S="clientHeight",A="clientWidth";if(E===dt(i)&&"static"!==Tt(E=kt(i)).position&&"absolute"===a&&(S="scrollHeight",A="scrollWidth"),s===qe||(s===We||s===Ve)&&r===Xe)w=He,f-=(u&&E===_&&_.visualViewport?_.visualViewport.height:E[S])-n.height,f*=c?1:-1;if(s===We||(s===qe||s===He)&&r===Xe)y=Ve,p-=(u&&E===_&&_.visualViewport?_.visualViewport.width:E[A])-n.width,p*=c?1:-1}var C,T=Object.assign({position:a},l&&Bt),L=!0===h?function(e,t){var i=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:wt(i*s)/s||0,y:wt(n*s)/s||0}}({x:p,y:f},dt(i)):{x:p,y:f};return p=L.x,f=L.y,c?Object.assign({},T,((C={})[w]=b?"0":"",C[y]=v?"0":"",C.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",C)):Object.assign({},T,((t={})[w]=b?f+"px":"",t[y]=v?p+"px":"",t.transform="",t))}var jt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,s=void 0===n||n,r=i.adaptive,o=void 0===r||r,a=i.roundOffsets,c=void 0===a||a;if("production"!==process.env.NODE_ENV){var l=Tt(t.elements.popper).transitionProperty||"";o&&["transform","top","right","bottom","left"].some((function(e){return l.indexOf(e)>=0}))&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var h={placement:vt(t.placement),variation:Dt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,$t(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,$t(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},qt={passive:!0};var Ht={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,s=n.scroll,r=void 0===s||s,o=n.resize,a=void 0===o||o,c=dt(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&l.forEach((function(e){e.addEventListener("scroll",i.update,qt)})),a&&c.addEventListener("resize",i.update,qt),function(){r&&l.forEach((function(e){e.removeEventListener("scroll",i.update,qt)})),a&&c.removeEventListener("resize",i.update,qt)}},data:{}},Vt={left:"right",right:"left",bottom:"top",top:"bottom"};function Wt(e){return e.replace(/left|right|bottom|top/g,(function(e){return Vt[e]}))}var Ut={start:"end",end:"start"};function zt(e){return e.replace(/start|end/g,(function(e){return Ut[e]}))}function Kt(e){var t=dt(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Xt(e){return St(kt(e)).left+Kt(e).scrollLeft}function Yt(e){var t=Tt(e),i=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function Gt(e){return["html","body","#document"].indexOf(ut(e))>=0?e.ownerDocument.body:mt(e)&&Yt(e)?e:Gt(Ot(e))}function Qt(e,t){var i;void 0===t&&(t=[]);var n=Gt(e),s=n===(null==(i=e.ownerDocument)?void 0:i.body),r=dt(n),o=s?[r].concat(r.visualViewport||[],Yt(n)?n:[]):n,a=t.concat(o);return s?a:a.concat(Qt(Ot(o)))}function Jt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Zt(e,t,i){return t===Ge?Jt(function(e,t){var i=dt(e),n=kt(e),s=i.visualViewport,r=n.clientWidth,o=n.clientHeight,a=0,c=0;if(s){r=s.width,o=s.height;var l=Et();(l||!l&&"fixed"===t)&&(a=s.offsetLeft,c=s.offsetTop)}return{width:r,height:o,x:a+Xt(e),y:c}}(e,i)):pt(t)?function(e,t){var i=St(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):Jt(function(e){var t,i=kt(e),n=Kt(e),s=null==(t=e.ownerDocument)?void 0:t.body,r=bt(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=bt(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+Xt(e),c=-n.scrollTop;return"rtl"===Tt(s||i).direction&&(a+=bt(i.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:c}}(kt(e)))}function ei(e,t,i,n){var s="clippingParents"===t?function(e){var t=Qt(Ot(e)),i=["absolute","fixed"].indexOf(Tt(e).position)>=0&&mt(e)?xt(e):e;return pt(i)?t.filter((function(e){return pt(e)&&Ct(e,i)&&"body"!==ut(e)})):[]}(e):[].concat(t),r=[].concat(s,[i]),o=r[0],a=r.reduce((function(t,i){var s=Zt(e,i,n);return t.top=bt(s.top,t.top),t.right=yt(s.right,t.right),t.bottom=yt(s.bottom,t.bottom),t.left=bt(s.left,t.left),t}),Zt(e,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ti(e){var t,i=e.reference,n=e.element,s=e.placement,r=s?vt(s):null,o=s?Dt(s):null,a=i.x+i.width/2-n.width/2,c=i.y+i.height/2-n.height/2;switch(r){case qe:t={x:a,y:i.y-n.height};break;case He:t={x:a,y:i.y+i.height};break;case Ve:t={x:i.x+i.width,y:c};break;case We:t={x:i.x-n.width,y:c};break;default:t={x:i.x,y:i.y}}var l=r?Pt(r):null;if(null!=l){var h="y"===l?"height":"width";switch(o){case Ke:t[l]=t[l]-(i[h]/2-n[h]/2);break;case Xe:t[l]=t[l]+(i[h]/2-n[h]/2)}}return t}function ii(e,t){void 0===t&&(t={});var i=t,n=i.placement,s=void 0===n?e.placement:n,r=i.strategy,o=void 0===r?e.strategy:r,a=i.boundary,c=void 0===a?Ye:a,l=i.rootBoundary,h=void 0===l?Ge:l,u=i.elementContext,d=void 0===u?Qe:u,p=i.altBoundary,m=void 0!==p&&p,f=i.padding,g=void 0===f?0:f,v=Nt("number"!=typeof g?g:It(g,ze)),b=d===Qe?Je:Qe,y=e.rects.popper,w=e.elements[m?b:d],_=ei(pt(w)?w:w.contextElement||kt(e.elements.popper),c,h,o),E=St(e.elements.reference),S=ti({reference:E,element:y,strategy:"absolute",placement:s}),A=Jt(Object.assign({},y,S)),C=d===Qe?A:E,T={top:_.top-C.top+v.top,bottom:C.bottom-_.bottom+v.bottom,left:_.left-C.left+v.left,right:C.right-_.right+v.right},L=e.modifiersData.offset;if(d===Qe&&L){var k=L[s];Object.keys(T).forEach((function(e){var t=[Ve,He].indexOf(e)>=0?1:-1,i=[qe,He].indexOf(e)>=0?"y":"x";T[e]+=k[i]*t}))}return T}function ni(e,t){void 0===t&&(t={});var i=t,n=i.placement,s=i.boundary,r=i.rootBoundary,o=i.padding,a=i.flipVariations,c=i.allowedAutoPlacements,l=void 0===c?et:c,h=Dt(n),u=h?a?Ze:Ze.filter((function(e){return Dt(e)===h})):ze,d=u.filter((function(e){return l.indexOf(e)>=0}));0===d.length&&(d=u,"production"!==process.env.NODE_ENV&&console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var p=d.reduce((function(t,i){return t[i]=ii(e,{placement:i,boundary:s,rootBoundary:r,padding:o})[vt(i)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}var si={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=i.mainAxis,r=void 0===s||s,o=i.altAxis,a=void 0===o||o,c=i.fallbackPlacements,l=i.padding,h=i.boundary,u=i.rootBoundary,d=i.altBoundary,p=i.flipVariations,m=void 0===p||p,f=i.allowedAutoPlacements,g=t.options.placement,v=vt(g),b=c||(v===g||!m?[Wt(g)]:function(e){if(vt(e)===Ue)return[];var t=Wt(e);return[zt(e),t,zt(t)]}(g)),y=[g].concat(b).reduce((function(e,i){return e.concat(vt(i)===Ue?ni(t,{placement:i,boundary:h,rootBoundary:u,padding:l,flipVariations:m,allowedAutoPlacements:f}):i)}),[]),w=t.rects.reference,_=t.rects.popper,E=new Map,S=!0,A=y[0],C=0;C<y.length;C++){var T=y[C],L=vt(T),k=Dt(T)===Ke,O=[qe,He].indexOf(L)>=0,M=O?"width":"height",x=ii(t,{placement:T,boundary:h,rootBoundary:u,altBoundary:d,padding:l}),P=O?k?Ve:We:k?He:qe;w[M]>_[M]&&(P=Wt(P));var R=Wt(P),N=[];if(r&&N.push(x[L]<=0),a&&N.push(x[P]<=0,x[R]<=0),N.every((function(e){return e}))){A=T,S=!1;break}E.set(T,N)}if(S)for(var I=function(e){var t=y.find((function(t){var i=E.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return A=t,"break"},F=m?3:1;F>0;F--){if("break"===I(F))break}t.placement!==A&&(t.modifiersData[n]._skip=!0,t.placement=A,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ri(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function oi(e){return[qe,Ve,He,We].some((function(t){return e[t]>=0}))}var ai={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=ii(t,{elementContext:"reference"}),a=ii(t,{altBoundary:!0}),c=ri(o,n),l=ri(a,s,r),h=oi(c),u=oi(l);t.modifiersData[i]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:h,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":u})}};var ci={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,s=i.offset,r=void 0===s?[0,0]:s,o=et.reduce((function(e,i){return e[i]=function(e,t,i){var n=vt(e),s=[We,qe].indexOf(n)>=0?-1:1,r="function"==typeof i?i(Object.assign({},t,{placement:e})):i,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[We,Ve].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}(i,t.rects,r),e}),{}),a=o[t.placement],c=a.x,l=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=o}};var li={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=ti({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var hi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,s=i.mainAxis,r=void 0===s||s,o=i.altAxis,a=void 0!==o&&o,c=i.boundary,l=i.rootBoundary,h=i.altBoundary,u=i.padding,d=i.tether,p=void 0===d||d,m=i.tetherOffset,f=void 0===m?0:m,g=ii(t,{boundary:c,rootBoundary:l,padding:u,altBoundary:h}),v=vt(t.placement),b=Dt(t.placement),y=!b,w=Pt(v),_="x"===w?"y":"x",E=t.modifiersData.popperOffsets,S=t.rects.reference,A=t.rects.popper,C="function"==typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,T="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(E){if(r){var O,M="y"===w?qe:We,x="y"===w?He:Ve,P="y"===w?"height":"width",R=E[w],N=R+g[M],I=R-g[x],F=p?-A[P]/2:0,D=b===Ke?S[P]:A[P],B=b===Ke?-A[P]:-S[P],$=t.elements.arrow,j=p&&$?At($):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=q[M],V=q[x],W=Rt(0,S[P],j[P]),U=y?S[P]/2-F-W-H-T.mainAxis:D-W-H-T.mainAxis,z=y?-S[P]/2+F+W+V+T.mainAxis:B+W+V+T.mainAxis,K=t.elements.arrow&&xt(t.elements.arrow),X=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Y=null!=(O=null==L?void 0:L[w])?O:0,G=R+z-Y,Q=Rt(p?yt(N,R+U-Y-X):N,R,p?bt(I,G):I);E[w]=Q,k[w]=Q-R}if(a){var J,Z="x"===w?qe:We,ee="x"===w?He:Ve,te=E[_],ie="y"===_?"height":"width",ne=te+g[Z],se=te-g[ee],re=-1!==[qe,We].indexOf(v),oe=null!=(J=null==L?void 0:L[_])?J:0,ae=re?ne:te-S[ie]-A[ie]-oe+T.altAxis,ce=re?te+S[ie]+A[ie]-oe-T.altAxis:se,le=p&&re?function(e,t,i){var n=Rt(e,t,i);return n>i?i:n}(ae,te,ce):Rt(p?ae:ne,te,p?ce:se);E[_]=le,k[_]=le-te}t.modifiersData[n]=k}},requiresIfExists:["offset"]};function ui(e,t,i){void 0===i&&(i=!1);var n,s,r=mt(t),o=mt(t)&&function(e){var t=e.getBoundingClientRect(),i=wt(t.width)/e.offsetWidth||1,n=wt(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),a=kt(t),c=St(e,o,i),l={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!i)&&(("body"!==ut(t)||Yt(a))&&(l=(n=t)!==dt(n)&&mt(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:Kt(n)),mt(t)?((h=St(t,!0)).x+=t.clientLeft,h.y+=t.clientTop):a&&(h.x=Xt(a))),{x:c.left+l.scrollLeft-h.x,y:c.top+l.scrollTop-h.y,width:c.width,height:c.height}}function di(e){var t=new Map,i=new Set,n=[];function s(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&s(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||s(e)})),n}function pi(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return[].concat(i).reduce((function(e,t){return e.replace(/%s/,t)}),e)}var mi='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',fi='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',gi=["name","enabled","phase","fn","effect","requires","options"];var vi="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",bi={placement:"bottom",modifiers:[],strategy:"absolute"};function yi(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function wi(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,s=t.defaultOptions,r=void 0===s?bi:s;return function(e,t,i){void 0===i&&(i=r);var s,o,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},bi,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,h={state:a,setOptions:function(i){var s="function"==typeof i?i(a.options):i;u(),a.options=Object.assign({},r,a.options,s),a.scrollParents={reference:pt(e)?Qt(e):e.contextElement?Qt(e.contextElement):[],popper:Qt(t)};var o,l,d,p=function(e){var t=di(e);return ht.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}(function(e){var t=e.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,a.options.modifiers)));if(a.orderedModifiers=p.filter((function(e){return e.enabled})),"production"!==process.env.NODE_ENV){if(function(e){e.forEach((function(t){[].concat(Object.keys(t),gi).filter((function(e,t,i){return i.indexOf(e)===t})).forEach((function(i){switch(i){case"name":"string"!=typeof t.name&&console.error(pi(mi,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":"boolean"!=typeof t.enabled&&console.error(pi(mi,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":ht.indexOf(t.phase)<0&&console.error(pi(mi,t.name,'"phase"',"either "+ht.join(", "),'"'+String(t.phase)+'"'));break;case"fn":"function"!=typeof t.fn&&console.error(pi(mi,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":null!=t.effect&&"function"!=typeof t.effect&&console.error(pi(mi,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":null==t.requires||Array.isArray(t.requires)||console.error(pi(mi,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(pi(mi,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+gi.map((function(e){return'"'+e+'"'})).join(", ")+'; but "'+i+'" was provided.')}t.requires&&t.requires.forEach((function(i){null==e.find((function(e){return e.name===i}))&&console.error(pi(fi,String(t.name),i,i))}))}))}))}((o=[].concat(p,a.options.modifiers),l=function(e){return e.name},d=new Set,o.filter((function(e){var t=l(e);if(!d.has(t))return d.add(t),!0})))),vt(a.options.placement)===Ue)a.orderedModifiers.find((function(e){return"flip"===e.name}))||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "));var m=Tt(t);[m.marginTop,m.marginRight,m.marginBottom,m.marginLeft].some((function(e){return parseFloat(e)}))&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return a.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,s=e.effect;if("function"==typeof s){var r=s({state:a,name:t,instance:h,options:n}),o=function(){};c.push(r||o)}})),h.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,i=e.popper;if(yi(t,i)){a.rects={reference:ui(t,xt(i),"fixed"===a.options.strategy),popper:At(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0,s=0;s<a.orderedModifiers.length;s++){if("production"!==process.env.NODE_ENV&&(n+=1)>100){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}if(!0!==a.reset){var r=a.orderedModifiers[s],o=r.fn,c=r.options,u=void 0===c?{}:c,d=r.name;"function"==typeof o&&(a=o({state:a,options:u,name:d,instance:h})||a)}else a.reset=!1,s=-1}}else"production"!==process.env.NODE_ENV&&console.error(vi)}},update:(s=function(){return new Promise((function(e){h.forceUpdate(),e(a)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(s())}))}))),o}),destroy:function(){u(),l=!0}};if(!yi(e,t))return"production"!==process.env.NODE_ENV&&console.error(vi),h;function u(){c.forEach((function(e){return e()})),c=[]}return h.setOptions(i).then((function(e){!l&&i.onFirstUpdate&&i.onFirstUpdate(e)})),h}}var _i=wi(),Ei=wi({defaultModifiers:[Ht,li,jt,gt]}),Si=wi({defaultModifiers:[Ht,li,jt,gt,ci,si,hi,Ft,ai]}),Ai=Object.freeze({__proto__:null,popperGenerator:wi,detectOverflow:ii,createPopperBase:_i,createPopper:Si,createPopperLite:Ei,top:qe,bottom:He,right:Ve,left:We,auto:Ue,basePlacements:ze,start:Ke,end:Xe,clippingParents:Ye,viewport:Ge,popper:Qe,reference:Je,variationPlacements:Ze,placements:et,beforeRead:tt,read:it,afterRead:nt,beforeMain:st,main:rt,afterMain:ot,beforeWrite:at,write:ct,afterWrite:lt,modifierPhases:ht,applyStyles:gt,arrow:Ft,computeStyles:jt,eventListeners:Ht,flip:si,hide:ai,offset:ci,popperOffsets:li,preventOverflow:hi});
/*!
  * Bootstrap v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
const Ci=new Map,Ti={set(e,t,i){Ci.has(e)||Ci.set(e,new Map);const n=Ci.get(e);n.has(t)||0===n.size?n.set(t,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(e,t)=>Ci.has(e)&&Ci.get(e).get(t)||null,remove(e,t){if(!Ci.has(e))return;const i=Ci.get(e);i.delete(t),0===i.size&&Ci.delete(e)}},Li="transitionend",ki=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),Oi=e=>{e.dispatchEvent(new Event(Li))},Mi=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),xi=e=>Mi(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(ki(e)):null,Pi=e=>{if(!Mi(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(!i)return t;if(i!==e){const t=e.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return t},Ri=e=>!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))),Ni=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Ni(e.parentNode):null},Ii=()=>{},Fi=e=>{e.offsetHeight},Di=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Bi=[],$i=()=>"rtl"===document.documentElement.dir,ji=e=>{var t;t=()=>{const t=Di();if(t){const i=e.NAME,n=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=n,e.jQueryInterface)}},"loading"===document.readyState?(Bi.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of Bi)e()})),Bi.push(t)):t()},qi=(e,t=[],i=e)=>"function"==typeof e?e(...t):i,Hi=(e,t,i=!0)=>{if(!i)return void qi(e);const n=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const n=Number.parseFloat(t),s=Number.parseFloat(i);return n||s?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5;let s=!1;const r=({target:i})=>{i===t&&(s=!0,t.removeEventListener(Li,r),qi(e))};t.addEventListener(Li,r),setTimeout((()=>{s||Oi(t)}),n)},Vi=(e,t,i,n)=>{const s=e.length;let r=e.indexOf(t);return-1===r?!i&&n?e[s-1]:e[0]:(r+=i?1:-1,n&&(r=(r+s)%s),e[Math.max(0,Math.min(r,s-1))])},Wi=/[^.]*(?=\..*)\.|.*/,Ui=/\..*/,zi=/::\d+$/,Ki={};let Xi=1;const Yi={mouseenter:"mouseover",mouseleave:"mouseout"},Gi=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Qi(e,t){return t&&`${t}::${Xi++}`||e.uidEvent||Xi++}function Ji(e){const t=Qi(e);return e.uidEvent=t,Ki[t]=Ki[t]||{},Ki[t]}function Zi(e,t,i=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===i))}function en(e,t,i){const n="string"==typeof t,s=n?i:t||i;let r=rn(e);return Gi.has(r)||(r=e),[n,s,r]}function tn(e,t,i,n,s){if("string"!=typeof t||!e)return;let[r,o,a]=en(t,i,n);if(t in Yi){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};o=e(o)}const c=Ji(e),l=c[a]||(c[a]={}),h=Zi(l,o,r?i:null);if(h)return void(h.oneOff=h.oneOff&&s);const u=Qi(o,t.replace(Wi,"")),d=r?function(e,t,i){return function n(s){const r=e.querySelectorAll(t);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return an(s,{delegateTarget:o}),n.oneOff&&on.off(e,s.type,t,i),i.apply(o,[s])}}(e,i,o):function(e,t){return function i(n){return an(n,{delegateTarget:e}),i.oneOff&&on.off(e,n.type,t),t.apply(e,[n])}}(e,o);d.delegationSelector=r?i:null,d.callable=o,d.oneOff=s,d.uidEvent=u,l[u]=d,e.addEventListener(a,d,r)}function nn(e,t,i,n,s){const r=Zi(t[i],n,s);r&&(e.removeEventListener(i,r,Boolean(s)),delete t[i][r.uidEvent])}function sn(e,t,i,n){const s=t[i]||{};for(const[r,o]of Object.entries(s))r.includes(n)&&nn(e,t,i,o.callable,o.delegationSelector)}function rn(e){return e=e.replace(Ui,""),Yi[e]||e}const on={on(e,t,i,n){tn(e,t,i,n,!1)},one(e,t,i,n){tn(e,t,i,n,!0)},off(e,t,i,n){if("string"!=typeof t||!e)return;const[s,r,o]=en(t,i,n),a=o!==t,c=Ji(e),l=c[o]||{},h=t.startsWith(".");if(void 0===r){if(h)for(const i of Object.keys(c))sn(e,c,i,t.slice(1));for(const[i,n]of Object.entries(l)){const s=i.replace(zi,"");a&&!t.includes(s)||nn(e,c,o,n.callable,n.delegationSelector)}}else{if(!Object.keys(l).length)return;nn(e,c,o,r,s?i:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;const n=Di();let s=null,r=!0,o=!0,a=!1;t!==rn(t)&&n&&(s=n.Event(t,i),n(e).trigger(s),r=!s.isPropagationStopped(),o=!s.isImmediatePropagationStopped(),a=s.isDefaultPrevented());const c=an(new Event(t,{bubbles:r,cancelable:!0}),i);return a&&c.preventDefault(),o&&e.dispatchEvent(c),c.defaultPrevented&&s&&s.preventDefault(),c}};function an(e,t={}){for(const[i,n]of Object.entries(t))try{e[i]=n}catch(t){Object.defineProperty(e,i,{configurable:!0,get:()=>n})}return e}function cn(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function ln(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const hn={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${ln(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${ln(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=cn(e.dataset[n])}return t},getDataAttribute:(e,t)=>cn(e.getAttribute(`data-bs-${ln(t)}`))};class un{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=Mi(t)?hn.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...Mi(t)?hn.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,s]of Object.entries(t)){const t=e[n],r=Mi(t)?"element":null==(i=t)?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(s).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${s}".`)}var i}}class dn extends un{constructor(e,t){super(),(e=xi(e))&&(this._element=e,this._config=this._getConfig(t),Ti.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ti.remove(this._element,this.constructor.DATA_KEY),on.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){Hi(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Ti.get(xi(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const pn=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&"#"!==i?i.trim():null}return ki(t)},mn={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const i=[];let n=e.parentNode.closest(t);for(;n;)i.push(n),n=n.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!Ri(e)&&Pi(e)))},getSelectorFromElement(e){const t=pn(e);return t&&mn.findOne(t)?t:null},getElementFromSelector(e){const t=pn(e);return t?mn.findOne(t):null},getMultipleElementsFromSelector(e){const t=pn(e);return t?mn.find(t):[]}},fn=(e,t="hide")=>{const i=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;on.on(document,i,`[data-bs-dismiss="${n}"]`,(function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Ri(this))return;const s=mn.getElementFromSelector(this)||this.closest(`.${n}`);e.getOrCreateInstance(s)[t]()}))},gn=".bs.alert",vn=`close${gn}`,bn=`closed${gn}`;class yn extends dn{static get NAME(){return"alert"}close(){if(on.trigger(this._element,vn).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),on.trigger(this._element,bn),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=yn.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}fn(yn,"close"),ji(yn);const wn='[data-bs-toggle="button"]';class _n extends dn{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=_n.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}on.on(document,"click.bs.button.data-api",wn,(e=>{e.preventDefault();const t=e.target.closest(wn);_n.getOrCreateInstance(t).toggle()})),ji(_n);const En=".bs.swipe",Sn=`touchstart${En}`,An=`touchmove${En}`,Cn=`touchend${En}`,Tn=`pointerdown${En}`,Ln=`pointerup${En}`,kn={endCallback:null,leftCallback:null,rightCallback:null},On={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Mn extends un{constructor(e,t){super(),this._element=e,e&&Mn.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return kn}static get DefaultType(){return On}static get NAME(){return"swipe"}dispose(){on.off(this._element,En)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),qi(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&qi(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(on.on(this._element,Tn,(e=>this._start(e))),on.on(this._element,Ln,(e=>this._end(e))),this._element.classList.add("pointer-event")):(on.on(this._element,Sn,(e=>this._start(e))),on.on(this._element,An,(e=>this._move(e))),on.on(this._element,Cn,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const xn=".bs.carousel",Pn=".data-api",Rn="next",Nn="prev",In="left",Fn="right",Dn=`slide${xn}`,Bn=`slid${xn}`,$n=`keydown${xn}`,jn=`mouseenter${xn}`,qn=`mouseleave${xn}`,Hn=`dragstart${xn}`,Vn=`load${xn}${Pn}`,Wn=`click${xn}${Pn}`,Un="carousel",zn="active",Kn=".active",Xn=".carousel-item",Yn=Kn+Xn,Gn={ArrowLeft:Fn,ArrowRight:In},Qn={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Jn={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Zn extends dn{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=mn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Un&&this.cycle()}static get Default(){return Qn}static get DefaultType(){return Jn}static get NAME(){return"carousel"}next(){this._slide(Rn)}nextWhenVisible(){!document.hidden&&Pi(this._element)&&this.next()}prev(){this._slide(Nn)}pause(){this._isSliding&&Oi(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?on.one(this._element,Bn,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void on.one(this._element,Bn,(()=>this.to(e)));const i=this._getItemIndex(this._getActive());if(i===e)return;const n=e>i?Rn:Nn;this._slide(n,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&on.on(this._element,$n,(e=>this._keydown(e))),"hover"===this._config.pause&&(on.on(this._element,jn,(()=>this.pause())),on.on(this._element,qn,(()=>this._maybeEnableCycle()))),this._config.touch&&Mn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of mn.find(".carousel-item img",this._element))on.on(e,Hn,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(In)),rightCallback:()=>this._slide(this._directionToOrder(Fn)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new Mn(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Gn[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=mn.findOne(Kn,this._indicatorsElement);t.classList.remove(zn),t.removeAttribute("aria-current");const i=mn.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(zn),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),n=e===Rn,s=t||Vi(this._getItems(),i,n,this._config.wrap);if(s===i)return;const r=this._getItemIndex(s),o=t=>on.trigger(this._element,t,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:r});if(o(Dn).defaultPrevented)return;if(!i||!s)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=s;const c=n?"carousel-item-start":"carousel-item-end",l=n?"carousel-item-next":"carousel-item-prev";s.classList.add(l),Fi(s),i.classList.add(c),s.classList.add(c);this._queueCallback((()=>{s.classList.remove(c,l),s.classList.add(zn),i.classList.remove(zn,l,c),this._isSliding=!1,o(Bn)}),i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return mn.findOne(Yn,this._element)}_getItems(){return mn.find(Xn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return $i()?e===In?Nn:Rn:e===In?Rn:Nn}_orderToDirection(e){return $i()?e===Nn?In:Fn:e===Nn?Fn:In}static jQueryInterface(e){return this.each((function(){const t=Zn.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}on.on(document,Wn,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=mn.getElementFromSelector(this);if(!t||!t.classList.contains(Un))return;e.preventDefault();const i=Zn.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===hn.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())})),on.on(window,Vn,(()=>{const e=mn.find('[data-bs-ride="carousel"]');for(const t of e)Zn.getOrCreateInstance(t)})),ji(Zn);const es=".bs.collapse",ts=`show${es}`,is=`shown${es}`,ns=`hide${es}`,ss=`hidden${es}`,rs=`click${es}.data-api`,os="show",as="collapse",cs="collapsing",ls=`:scope .${as} .${as}`,hs='[data-bs-toggle="collapse"]',us={parent:null,toggle:!0},ds={parent:"(null|element)",toggle:"boolean"};class ps extends dn{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=mn.find(hs);for(const e of i){const t=mn.getSelectorFromElement(e),i=mn.find(t).filter((e=>e===this._element));null!==t&&i.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return us}static get DefaultType(){return ds}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>ps.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(on.trigger(this._element,ts).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(as),this._element.classList.add(cs),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(cs),this._element.classList.add(as,os),this._element.style[t]="",on.trigger(this._element,is)}),this._element,!0),this._element.style[t]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(on.trigger(this._element,ns).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Fi(this._element),this._element.classList.add(cs),this._element.classList.remove(as,os);for(const e of this._triggerArray){const t=mn.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0;this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(cs),this._element.classList.add(as),on.trigger(this._element,ss)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(os)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=xi(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(hs);for(const t of e){const e=mn.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=mn.find(ls,this._config.parent);return mn.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const i=ps.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}}))}}on.on(document,rs,hs,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of mn.getMultipleElementsFromSelector(this))ps.getOrCreateInstance(e,{toggle:!1}).toggle()})),ji(ps);const ms="dropdown",fs=".bs.dropdown",gs=".data-api",vs="ArrowUp",bs="ArrowDown",ys=`hide${fs}`,ws=`hidden${fs}`,_s=`show${fs}`,Es=`shown${fs}`,Ss=`click${fs}${gs}`,As=`keydown${fs}${gs}`,Cs=`keyup${fs}${gs}`,Ts="show",Ls='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ks=`${Ls}.${Ts}`,Os=".dropdown-menu",Ms=$i()?"top-end":"top-start",xs=$i()?"top-start":"top-end",Ps=$i()?"bottom-end":"bottom-start",Rs=$i()?"bottom-start":"bottom-end",Ns=$i()?"left-start":"right-start",Is=$i()?"right-start":"left-start",Fs={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ds={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Bs extends dn{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=mn.next(this._element,Os)[0]||mn.prev(this._element,Os)[0]||mn.findOne(Os,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Fs}static get DefaultType(){return Ds}static get NAME(){return ms}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ri(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!on.trigger(this._element,_s,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))on.on(e,"mouseover",Ii);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ts),this._element.classList.add(Ts),on.trigger(this._element,Es,e)}}hide(){if(Ri(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!on.trigger(this._element,ys,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))on.off(e,"mouseover",Ii);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ts),this._element.classList.remove(Ts),this._element.setAttribute("aria-expanded","false"),hn.removeDataAttribute(this._menu,"popper"),on.trigger(this._element,ws,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!Mi(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${ms.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===Ai)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:Mi(this._config.reference)?e=xi(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Si(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Ts)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return Ns;if(e.classList.contains("dropstart"))return Is;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?xs:Ms:t?Rs:Ps}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(hn.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...qi(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const i=mn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>Pi(e)));i.length&&Vi(i,t,e===bs,!i.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Bs.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=mn.find(ks);for(const i of t){const t=Bs.getInstance(i);if(!t||!1===t._config.autoClose)continue;const n=e.composedPath(),s=n.includes(t._menu);if(n.includes(t._element)||"inside"===t._config.autoClose&&!s||"outside"===t._config.autoClose&&s)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const r={relatedTarget:t._element};"click"===e.type&&(r.clickEvent=e),t._completeHide(r)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,n=[vs,bs].includes(e.key);if(!n&&!i)return;if(t&&!i)return;e.preventDefault();const s=this.matches(Ls)?this:mn.prev(this,Ls)[0]||mn.next(this,Ls)[0]||mn.findOne(Ls,e.delegateTarget.parentNode),r=Bs.getOrCreateInstance(s);if(n)return e.stopPropagation(),r.show(),void r._selectMenuItem(e);r._isShown()&&(e.stopPropagation(),r.hide(),s.focus())}}on.on(document,As,Ls,Bs.dataApiKeydownHandler),on.on(document,As,Os,Bs.dataApiKeydownHandler),on.on(document,Ss,Bs.clearMenus),on.on(document,Cs,Bs.clearMenus),on.on(document,Ss,Ls,(function(e){e.preventDefault(),Bs.getOrCreateInstance(this).toggle()})),ji(Bs);const $s="backdrop",js="show",qs=`mousedown.bs.${$s}`,Hs={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Vs={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ws extends un{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Hs}static get DefaultType(){return Vs}static get NAME(){return $s}show(e){if(!this._config.isVisible)return void qi(e);this._append();const t=this._getElement();this._config.isAnimated&&Fi(t),t.classList.add(js),this._emulateAnimation((()=>{qi(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(js),this._emulateAnimation((()=>{this.dispose(),qi(e)}))):qi(e)}dispose(){this._isAppended&&(on.off(this._element,qs),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=xi(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),on.on(e,qs,(()=>{qi(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){Hi(e,this._getElement(),this._config.isAnimated)}}const Us=".bs.focustrap",zs=`focusin${Us}`,Ks=`keydown.tab${Us}`,Xs="backward",Ys={autofocus:!0,trapElement:null},Gs={autofocus:"boolean",trapElement:"element"};class Qs extends un{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ys}static get DefaultType(){return Gs}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),on.off(document,Us),on.on(document,zs,(e=>this._handleFocusin(e))),on.on(document,Ks,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,on.off(document,Us))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=mn.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===Xs?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Xs:"forward")}}const Js=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Zs=".sticky-top",er="padding-right",tr="margin-right";class ir{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,er,(t=>t+e)),this._setElementAttributes(Js,er,(t=>t+e)),this._setElementAttributes(Zs,tr,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,er),this._resetElementAttributes(Js,er),this._resetElementAttributes(Zs,tr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const n=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+n)return;this._saveInitialAttribute(e,t);const s=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${i(Number.parseFloat(s))}px`)}))}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&hn.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const i=hn.getDataAttribute(e,t);null!==i?(hn.removeDataAttribute(e,t),e.style.setProperty(t,i)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(Mi(e))t(e);else for(const i of mn.find(e,this._element))t(i)}}const nr=".bs.modal",sr=`hide${nr}`,rr=`hidePrevented${nr}`,or=`hidden${nr}`,ar=`show${nr}`,cr=`shown${nr}`,lr=`resize${nr}`,hr=`click.dismiss${nr}`,ur=`mousedown.dismiss${nr}`,dr=`keydown.dismiss${nr}`,pr=`click${nr}.data-api`,mr="modal-open",fr="show",gr="modal-static",vr={backdrop:!0,focus:!0,keyboard:!0},br={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class yr extends dn{constructor(e,t){super(e,t),this._dialog=mn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ir,this._addEventListeners()}static get Default(){return vr}static get DefaultType(){return br}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;on.trigger(this._element,ar,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(mr),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;on.trigger(this._element,sr).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(fr),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated()))}dispose(){on.off(window,nr),on.off(this._dialog,nr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ws({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Qs({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=mn.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),Fi(this._element),this._element.classList.add(fr);this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,on.trigger(this._element,cr,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){on.on(this._element,dr,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),on.on(window,lr,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),on.on(this._element,ur,(e=>{on.one(this._element,hr,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(mr),this._resetAdjustments(),this._scrollBar.reset(),on.trigger(this._element,or)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(on.trigger(this._element,rr).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(gr)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(gr),this._queueCallback((()=>{this._element.classList.remove(gr),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const e=$i()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!i&&e){const e=$i()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const i=yr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}}))}}on.on(document,pr,'[data-bs-toggle="modal"]',(function(e){const t=mn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),on.one(t,ar,(e=>{e.defaultPrevented||on.one(t,or,(()=>{Pi(this)&&this.focus()}))}));const i=mn.findOne(".modal.show");i&&yr.getInstance(i).hide();yr.getOrCreateInstance(t).toggle(this)})),fn(yr),ji(yr);const wr=".bs.offcanvas",_r=".data-api",Er=`load${wr}${_r}`,Sr="show",Ar="showing",Cr="hiding",Tr=".offcanvas.show",Lr=`show${wr}`,kr=`shown${wr}`,Or=`hide${wr}`,Mr=`hidePrevented${wr}`,xr=`hidden${wr}`,Pr=`resize${wr}`,Rr=`click${wr}${_r}`,Nr=`keydown.dismiss${wr}`,Ir={backdrop:!0,keyboard:!0,scroll:!1},Fr={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Dr extends dn{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ir}static get DefaultType(){return Fr}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;if(on.trigger(this._element,Lr,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new ir).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ar);this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Sr),this._element.classList.remove(Ar),on.trigger(this._element,kr,{relatedTarget:e})}),this._element,!0)}hide(){if(!this._isShown)return;if(on.trigger(this._element,Or).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Cr),this._backdrop.hide();this._queueCallback((()=>{this._element.classList.remove(Sr,Cr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new ir).reset(),on.trigger(this._element,xr)}),this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Ws({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():on.trigger(this._element,Mr)}:null})}_initializeFocusTrap(){return new Qs({trapElement:this._element})}_addEventListeners(){on.on(this._element,Nr,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():on.trigger(this._element,Mr))}))}static jQueryInterface(e){return this.each((function(){const t=Dr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}on.on(document,Rr,'[data-bs-toggle="offcanvas"]',(function(e){const t=mn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ri(this))return;on.one(t,xr,(()=>{Pi(this)&&this.focus()}));const i=mn.findOne(Tr);i&&i!==t&&Dr.getInstance(i).hide();Dr.getOrCreateInstance(t).toggle(this)})),on.on(window,Er,(()=>{for(const e of mn.find(Tr))Dr.getOrCreateInstance(e).show()})),on.on(window,Pr,(()=>{for(const e of mn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Dr.getOrCreateInstance(e).hide()})),fn(Dr),ji(Dr);const Br={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},$r=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),jr=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,qr=(e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?!$r.has(i)||Boolean(jr.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(i)))};const Hr={allowList:Br,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Vr={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Wr={entry:"(string|element|function|null)",selector:"(string|element)"};class Ur extends un{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Hr}static get DefaultType(){return Vr}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,i]of Object.entries(this._config.content))this._setContent(e,i,t);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Wr)}_setContent(e,t,i){const n=mn.findOne(i,e);n&&((t=this._resolvePossibleFunction(t))?Mi(t)?this._putElementInTemplate(xi(t),n):this._config.html?n.innerHTML=this._maybeSanitize(t):n.textContent=t:n.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);const n=(new window.DOMParser).parseFromString(e,"text/html"),s=[].concat(...n.body.querySelectorAll("*"));for(const e of s){const i=e.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){e.remove();continue}const n=[].concat(...e.attributes),s=[].concat(t["*"]||[],t[i]||[]);for(const t of n)qr(t,s)||e.removeAttribute(t.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return qi(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const zr=new Set(["sanitize","allowList","sanitizeFn"]),Kr="fade",Xr="show",Yr=".modal",Gr="hide.bs.modal",Qr="hover",Jr="focus",Zr={AUTO:"auto",TOP:"top",RIGHT:$i()?"left":"right",BOTTOM:"bottom",LEFT:$i()?"right":"left"},eo={allowList:Br,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},to={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class io extends dn{constructor(e,t){if(void 0===Ai)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return eo}static get DefaultType(){return to}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),on.off(this._element.closest(Yr),Gr,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=on.trigger(this._element,this.constructor.eventName("show")),t=(Ni(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),on.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(Xr),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))on.on(e,"mouseover",Ii);this._queueCallback((()=>{on.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(on.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;if(this._getTipElement().classList.remove(Xr),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))on.off(e,"mouseover",Ii);this._activeTrigger.click=!1,this._activeTrigger[Jr]=!1,this._activeTrigger[Qr]=!1,this._isHovered=null;this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),on.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Kr,Xr),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(Kr),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Ur({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Kr)}_isShown(){return this.tip&&this.tip.classList.contains(Xr)}_createPopper(e){const t=qi(this._config.placement,[this,e,this._element]),i=Zr[t.toUpperCase()];return Si(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return qi(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...qi(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)on.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===Qr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===Qr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");on.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Jr:Qr]=!0,t._enter()})),on.on(this._element,i,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Jr:Qr]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},on.on(this._element.closest(Yr),Gr,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=hn.getDataAttributes(this._element);for(const e of Object.keys(t))zr.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:xi(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=io.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ji(io);const no={...io.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},so={...io.DefaultType,content:"(null|string|element|function)"};class ro extends io{static get Default(){return no}static get DefaultType(){return so}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=ro.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ji(ro);const oo=".bs.scrollspy",ao=`activate${oo}`,co=`click${oo}`,lo=`load${oo}.data-api`,ho="active",uo="[href]",po=".nav-link",mo=`${po}, .nav-item > ${po}, .list-group-item`,fo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},go={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class vo extends dn{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return fo}static get DefaultType(){return go}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=xi(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(on.off(this._config.target,co),on.on(this._config.target,co,uo,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},n=(this._rootElement||document.documentElement).scrollTop,s=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const r of e){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(r));continue}const e=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&e){if(i(r),!n)return}else s||e||i(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=mn.find(uo,this._config.target);for(const t of e){if(!t.hash||Ri(t))continue;const e=mn.findOne(decodeURI(t.hash),this._element);Pi(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ho),this._activateParents(e),on.trigger(this._element,ao,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))mn.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(ho);else for(const t of mn.parents(e,".nav, .list-group"))for(const e of mn.prev(t,mo))e.classList.add(ho)}_clearActiveClass(e){e.classList.remove(ho);const t=mn.find(`${uo}.${ho}`,e);for(const e of t)e.classList.remove(ho)}static jQueryInterface(e){return this.each((function(){const t=vo.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}on.on(window,lo,(()=>{for(const e of mn.find('[data-bs-spy="scroll"]'))vo.getOrCreateInstance(e)})),ji(vo);const bo=".bs.tab",yo=`hide${bo}`,wo=`hidden${bo}`,_o=`show${bo}`,Eo=`shown${bo}`,So=`click${bo}`,Ao=`keydown${bo}`,Co=`load${bo}`,To="ArrowLeft",Lo="ArrowRight",ko="ArrowUp",Oo="ArrowDown",Mo="active",xo="fade",Po="show",Ro=":not(.dropdown-toggle)",No='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Io=`${`.nav-link${Ro}, .list-group-item${Ro}, [role="tab"]${Ro}`}, ${No}`,Fo=`.${Mo}[data-bs-toggle="tab"], .${Mo}[data-bs-toggle="pill"], .${Mo}[data-bs-toggle="list"]`;class Do extends dn{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),on.on(this._element,Ao,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?on.trigger(t,yo,{relatedTarget:e}):null;on.trigger(e,_o,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Mo),this._activate(mn.getElementFromSelector(e));this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),on.trigger(e,Eo,{relatedTarget:t})):e.classList.add(Po)}),e,e.classList.contains(xo))}_deactivate(e,t){if(!e)return;e.classList.remove(Mo),e.blur(),this._deactivate(mn.getElementFromSelector(e));this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),on.trigger(e,wo,{relatedTarget:t})):e.classList.remove(Po)}),e,e.classList.contains(xo))}_keydown(e){if(![To,Lo,ko,Oo].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[Lo,Oo].includes(e.key),i=Vi(this._getChildren().filter((e=>!Ri(e))),e.target,t,!0);i&&(i.focus({preventScroll:!0}),Do.getOrCreateInstance(i).show())}_getChildren(){return mn.find(Io,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=mn.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const n=(e,n)=>{const s=mn.findOne(e,i);s&&s.classList.toggle(n,t)};n(".dropdown-toggle",Mo),n(".dropdown-menu",Po),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(Mo)}_getInnerElement(e){return e.matches(Io)?e:mn.findOne(Io,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=Do.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}on.on(document,So,No,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ri(this)||Do.getOrCreateInstance(this).show()})),on.on(window,Co,(()=>{for(const e of mn.find(Fo))Do.getOrCreateInstance(e)})),ji(Do);const Bo=".bs.toast",$o=`mouseover${Bo}`,jo=`mouseout${Bo}`,qo=`focusin${Bo}`,Ho=`focusout${Bo}`,Vo=`hide${Bo}`,Wo=`hidden${Bo}`,Uo=`show${Bo}`,zo=`shown${Bo}`,Ko="hide",Xo="show",Yo="showing",Go={animation:"boolean",autohide:"boolean",delay:"number"},Qo={animation:!0,autohide:!0,delay:5e3};class Jo extends dn{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Qo}static get DefaultType(){return Go}static get NAME(){return"toast"}show(){if(on.trigger(this._element,Uo).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(Ko),Fi(this._element),this._element.classList.add(Xo,Yo),this._queueCallback((()=>{this._element.classList.remove(Yo),on.trigger(this._element,zo),this._maybeScheduleHide()}),this._element,this._config.animation)}hide(){if(!this.isShown())return;if(on.trigger(this._element,Vo).defaultPrevented)return;this._element.classList.add(Yo),this._queueCallback((()=>{this._element.classList.add(Ko),this._element.classList.remove(Yo,Xo),on.trigger(this._element,Wo)}),this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Xo),super.dispose()}isShown(){return this._element.classList.contains(Xo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){on.on(this._element,$o,(e=>this._onInteraction(e,!0))),on.on(this._element,jo,(e=>this._onInteraction(e,!1))),on.on(this._element,qo,(e=>this._onInteraction(e,!0))),on.on(this._element,Ho,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Jo.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}fn(Jo),ji(Jo);var Zo=Object.freeze({__proto__:null,Alert:yn,Button:_n,Carousel:Zn,Collapse:ps,Dropdown:Bs,Modal:yr,Offcanvas:Dr,Popover:ro,ScrollSpy:vo,Tab:Do,Toast:Jo,Tooltip:io});window.bootstrap||(window.bootstrap=Zo);var ea=function(){function e(e){var t=this;this.listener=function(e){(e.matches?t.matchFns:t.unmatchFns).forEach((function(e){e()}))},this.toggler=window.matchMedia(e),this.toggler.addListener(this.listener),this.matchFns=[],this.unmatchFns=[]}return e.prototype.add=function(e,t){this.matchFns.push(e),this.unmatchFns.push(t),(this.toggler.matches?e:t)()},e}(),ta=function(e){return Array.prototype.slice.call(e)},ia=function(e,t){return ta((t||document).querySelectorAll(e))},na="mm-spn",sa=function(){function e(e,t,i,n,s){this.node=e,this.title=t,this.slidingSubmenus=n,this.selectedClass=i,this.node.classList.add(na),this.node.classList.add(na+"--"+s),this.node.classList.add(na+"--"+(this.slidingSubmenus?"navbar":"vertical")),this._setSelectedl(),this._initAnchors()}return Object.defineProperty(e.prototype,"prefix",{get:function(){return na},enumerable:!1,configurable:!0}),e.prototype.openPanel=function(e){var t=e.parentElement;if(this.slidingSubmenus){var i=e.dataset.mmSpnTitle;t===this.node?this.node.classList.add(na+"--main"):(this.node.classList.remove(na+"--main"),i||ta(t.children).forEach((function(e){e.matches("a, span")&&(i=e.textContent)}))),i||(i=this.title),this.node.dataset.mmSpnTitle=i,ia("."+na+"--open",this.node).forEach((function(e){e.classList.remove(na+"--open"),e.classList.remove(na+"--parent")})),e.classList.add(na+"--open"),e.classList.remove(na+"--parent");for(var n=e.parentElement.closest("ul");n;)n.classList.add(na+"--open"),n.classList.add(na+"--parent"),n=n.parentElement.closest("ul")}else{var s=e.matches("."+na+"--open");ia("."+na+"--open",this.node).forEach((function(e){e.classList.remove(na+"--open")})),e.classList[s?"remove":"add"](na+"--open");for(var r=e.parentElement.closest("ul");r;)r.classList.add(na+"--open"),r=r.parentElement.closest("ul")}},e.prototype._setSelectedl=function(){var e=ia("."+this.selectedClass,this.node),t=e[e.length-1],i=null;t&&(i=t.closest("ul")),i||(i=this.node.querySelector("ul")),this.openPanel(i)},e.prototype._initAnchors=function(){var e=this;this.node.addEventListener("click",(function(t){var i=t.target,n=!1;n=n||function(e){return!!e.matches("a")}(i),n=n||function(t){var i;return!!(i=t.closest("span")?t.parentElement:!!t.closest("li")&&t)&&(ta(i.children).forEach((function(t){t.matches("ul")&&e.openPanel(t)})),!0)}(i),n=n||function(t){var i=ia("."+na+"--open",t),n=i[i.length-1];if(n){var s=n.parentElement.closest("ul");if(s)return e.openPanel(s),!0}return!1}(i),n&&t.stopImmediatePropagation()}))},e}(),ra="mm-ocd",oa=function(){function e(e,t){var i=this;void 0===e&&(e=null),this.wrapper=document.createElement("div"),this.wrapper.classList.add(""+ra),this.wrapper.classList.add(ra+"--"+t),this.content=document.createElement("div"),this.content.classList.add(ra+"__content"),this.wrapper.append(this.content),this.backdrop=document.createElement("div"),this.backdrop.classList.add(ra+"__backdrop"),this.wrapper.append(this.backdrop),document.body.append(this.wrapper),e&&this.content.append(e);var n=function(e){i.close(),e.stopImmediatePropagation()};this.backdrop.addEventListener("touchstart",n,{passive:!0}),this.backdrop.addEventListener("mousedown",n,{passive:!0})}return Object.defineProperty(e.prototype,"prefix",{get:function(){return ra},enumerable:!1,configurable:!0}),e.prototype.open=function(){this.wrapper.classList.add(ra+"--open"),document.body.classList.add(ra+"-opened")},e.prototype.close=function(){this.wrapper.classList.remove(ra+"--open"),document.body.classList.remove(ra+"-opened")},e}(),aa=function(){function e(e,t){void 0===t&&(t="all"),this.menu=e,this.toggler=new ea(t)}return e.prototype.navigation=function(e){var t=this;if(!this.navigator){var i=(e=e||{}).title,n=void 0===i?"Menu":i,s=e.selectedClass,r=void 0===s?"Selected":s,o=e.slidingSubmenus,a=void 0===o||o,c=e.theme,l=void 0===c?"light":c;this.navigator=new sa(this.menu,n,r,a,l),this.toggler.add((function(){return t.menu.classList.add(t.navigator.prefix)}),(function(){return t.menu.classList.remove(t.navigator.prefix)}))}return this.navigator},e.prototype.offcanvas=function(e){var t=this;if(!this.drawer){var i=(e=e||{}).position,n=void 0===i?"left":i;this.drawer=new oa(null,n);var s=document.createComment("original menu location");this.menu.after(s),this.toggler.add((function(){t.drawer.content.append(t.menu)}),(function(){t.drawer.close(),s.after(t.menu)}))}return this.drawer},e}();
/*!
 * Mmenu Light
 * mmenujs.com/mmenu-light
 *
 * Copyright (c) Fred Heusschen
 * www.frebsite.nl
 *
 * License: CC-BY-4.0
 * http://creativecommons.org/licenses/by/4.0/
 */
window.MmenuLight=aa,document.addEventListener("turbo:load",(()=>{const e=new aa(document.querySelector("#mobileNav"),"all");e.navigation({selectedClass:"Selected",slidingSubmenus:!0,theme:"light",title:"Main Menu"});const t=e.offcanvas({});document.querySelector('a[href="#mobileNav"]').addEventListener("click",(e=>{e.preventDefault(),t.open()}))}));var ca,la="loading"in HTMLImageElement.prototype,ha="loading"in HTMLIFrameElement.prototype,ua="onscroll"in window;function da(e){var t,i,n=[];"picture"===e.parentNode.tagName.toLowerCase()&&((i=(t=e.parentNode).querySelector("source[data-lazy-remove]"))&&t.removeChild(i),n=Array.prototype.slice.call(e.parentNode.querySelectorAll("source"))),n.push(e),n.forEach((function(e){e.hasAttribute("data-lazy-srcset")&&(e.setAttribute("srcset",e.getAttribute("data-lazy-srcset")),e.removeAttribute("data-lazy-srcset"))})),e.setAttribute("src",e.getAttribute("data-lazy-src")),e.removeAttribute("data-lazy-src")}function pa(e){var t=document.createElement("div");for(t.innerHTML=function(e){var t=e.textContent||e.innerHTML,i="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 "+((t.match(/width=['"](\d+)['"]/)||!1)[1]||1)+" "+((t.match(/height=['"](\d+)['"]/)||!1)[1]||1)+"%27%3E%3C/svg%3E";return(/<img/gim.test(t)&&!la||/<iframe/gim.test(t)&&!ha)&&ua&&(t=void 0===ca?t.replace(/(?:\r\n|\r|\n|\t| )src=/g,' lazyload="1" src='):(t=t.replace("<source",'<source srcset="'+i+'" data-lazy-remove="true"></source>\n<source')).replace(/(?:\r\n|\r|\n|\t| )srcset=/g," data-lazy-srcset=").replace(/(?:\r\n|\r|\n|\t| )src=/g,' src="'+i+'" data-lazy-src=')),t}(e);t.firstChild;){var i=t.firstChild;if(ua&&void 0!==ca&&i.tagName&&(("img"===i.tagName.toLowerCase()||"picture"===i.tagName.toLowerCase())&&!la||"iframe"===i.tagName.toLowerCase()&&!ha)){var n="picture"===i.tagName.toLowerCase()?t.querySelector("img"):i;ca.observe(n)}e.parentNode.insertBefore(i,e)}e.parentNode.removeChild(e)}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),"IntersectionObserver"in window&&(ca=new IntersectionObserver((function(e,t){e.forEach((function(e){if(0!==e.intersectionRatio){var i=e.target;t.unobserve(i),da(i)}}))}),{rootMargin:"0px 0px 256px 0px",threshold:.01}));var ma=function(){document.querySelectorAll("noscript.loading-lazy").forEach((function(e){return pa(e)})),void 0!==window.matchMedia&&window.matchMedia("print").addListener((function(e){e.matches&&document.querySelectorAll('img[loading="lazy"][data-lazy-src],iframe[loading="lazy"][data-lazy-src]').forEach((function(e){da(e)}))}))};/comp|inter/.test(document.readyState)?ma():"addEventListener"in document?document.addEventListener("DOMContentLoaded",(function(){ma()})):document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&ma()}));var fa={prepareElement:pa};window.loadingAttributePolyfill||(window.loadingAttributePolyfill=fa);class ga{constructor(e,t,i){this.eventTarget=e,this.eventName=t,this.eventOptions=i,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){const t=function(e){if("immediatePropagationStopped"in e)return e;{const{stopImmediatePropagation:t}=e;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,t.call(this)}})}}(e);for(const e of this.bindings){if(t.immediatePropagationStopped)break;e.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort(((e,t)=>{const i=e.index,n=t.index;return i<n?-1:i>n?1:0}))}}class va{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach((e=>e.connect())))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach((e=>e.disconnect())))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce(((e,t)=>e.concat(Array.from(t.values()))),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,i={}){this.application.handleError(e,`Error ${t}`,i)}clearEventListenersForBinding(e){const t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){const{eventTarget:t,eventName:i,eventOptions:n}=e,s=this.fetchEventListenerMapForEventTarget(t),r=this.cacheKey(i,n);s.delete(r),0==s.size&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){const{eventTarget:t,eventName:i,eventOptions:n}=e;return this.fetchEventListener(t,i,n)}fetchEventListener(e,t,i){const n=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(t,i);let r=n.get(s);return r||(r=this.createEventListener(e,t,i),n.set(s,r)),r}createEventListener(e,t,i){const n=new ga(e,t,i);return this.started&&n.connect(),n}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){const i=[e];return Object.keys(t).sort().forEach((e=>{i.push(`${t[e]?"":"!"}${e}`)})),i.join(":")}}const ba={stop:({event:e,value:t})=>(t&&e.stopPropagation(),!0),prevent:({event:e,value:t})=>(t&&e.preventDefault(),!0),self:({event:e,value:t,element:i})=>!t||i===e.target},ya=/^(?:(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function wa(e){return"window"==e?window:"document"==e?document:void 0}function _a(e){return e.replace(/(?:[_-])([a-z0-9])/g,((e,t)=>t.toUpperCase()))}function Ea(e){return _a(e.replace(/--/g,"-").replace(/__/g,"_"))}function Sa(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Aa(e){return e.replace(/([A-Z])/g,((e,t)=>`-${t.toLowerCase()}`))}class Ca{constructor(e,t,i,n){this.element=e,this.index=t,this.eventTarget=i.eventTarget||e,this.eventName=i.eventName||function(e){const t=e.tagName.toLowerCase();if(t in Ta)return Ta[t](e)}(e)||La("missing event name"),this.eventOptions=i.eventOptions||{},this.identifier=i.identifier||La("missing identifier"),this.methodName=i.methodName||La("missing method name"),this.keyFilter=i.keyFilter||"",this.schema=n}static forToken(e,t){return new this(e.element,e.index,function(e){const t=e.trim().match(ya)||[];let i=t[1],n=t[2];return n&&!["keydown","keyup","keypress"].includes(i)&&(i+=`.${n}`,n=""),{eventTarget:wa(t[3]),eventName:i,eventOptions:t[6]?(s=t[6],s.split(":").reduce(((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)})),{})):{},identifier:t[4],methodName:t[5],keyFilter:n};var s}(e.content),t)}toString(){const e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}isFilterTarget(e){if(!this.keyFilter)return!1;const t=this.keyFilter.split("+"),i=["meta","ctrl","alt","shift"],[n,s,r,o]=i.map((e=>t.includes(e)));if(e.metaKey!==n||e.ctrlKey!==s||e.altKey!==r||e.shiftKey!==o)return!0;const a=t.filter((e=>!i.includes(e)))[0];return!!a&&(Object.prototype.hasOwnProperty.call(this.keyMappings,a)||La(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[a].toLowerCase()!==e.key.toLowerCase())}get params(){const e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:i,value:n}of Array.from(this.element.attributes)){const s=i.match(t),r=s&&s[1];r&&(e[_a(r)]=ka(n))}return e}get eventTargetName(){return(e=this.eventTarget)==window?"window":e==document?"document":void 0;var e}get keyMappings(){return this.schema.keyMappings}}const Ta={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:e=>"submit"==e.getAttribute("type")?"click":"input",select:()=>"change",textarea:()=>"input"};function La(e){throw new Error(e)}function ka(e){try{return JSON.parse(e)}catch(t){return e}}class Oa{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){this.willBeInvokedByEvent(e)&&this.applyEventModifiers(e)&&this.invokeWithEvent(e)}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){const{element:t}=this.action,{actionDescriptorFilters:i}=this.context.application;let n=!0;for(const[s,r]of Object.entries(this.eventOptions))if(s in i){const o=i[s];n=n&&o({name:s,value:r,event:e,element:t})}return n}invokeWithEvent(e){const{target:t,currentTarget:i}=e;try{const{params:n}=this.action,s=Object.assign(e,{params:n});this.method.call(this.controller,s),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:i,action:this.methodName})}catch(t){const{identifier:i,controller:n,element:s,index:r}=this,o={identifier:i,controller:n,element:s,index:r,event:e};this.context.handleError(t,`invoking action "${this.action}"`,o)}}willBeInvokedByEvent(e){const t=e.target;return!(e instanceof KeyboardEvent&&this.action.isFilterTarget(e))&&(this.element===t||(t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)))}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class Ma{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(const t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){const i=e;this.elements.has(i)?this.delegate.elementAttributeChanged&&this.matchElement(i)?this.delegate.elementAttributeChanged(i,t):this.removeElement(i):this.matchElement(i)&&this.addElement(i)}processRemovedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.processTree(e,this.removeElement)}}processAddedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.elementIsActive(e)&&this.processTree(e,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(const i of this.matchElementsInTree(e))t.call(this,i)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}}class xa{constructor(e,t,i){this.attributeName=t,this.delegate=i,this.elementObserver=new Ma(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(this.selector));return t.concat(i)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}}function Pa(e,t){let i=e.get(t);return i||(i=new Set,e.set(t,i)),i}class Ra{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e.concat(Array.from(t))),[])}get size(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e+t.size),0)}add(e,t){!function(e,t,i){Pa(e,t).add(i)}(this.valuesByKey,e,t)}delete(e,t){!function(e,t,i){Pa(e,t).delete(i),function(e,t){const i=e.get(t);null!=i&&0==i.size&&e.delete(t)}(e,t)}(this.valuesByKey,e,t)}has(e,t){const i=this.valuesByKey.get(e);return null!=i&&i.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some((t=>t.has(e)))}getValuesForKey(e){const t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter((([t,i])=>i.has(e))).map((([e,t])=>e))}}class Na{constructor(e,t,i,n={}){this.selector=t,this.details=n,this.elementObserver=new Ma(e,this),this.delegate=i,this.matchesByElement=new Ra}get started(){return this.elementObserver.started}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){const t=e.matches(this.selector);return this.delegate.selectorMatchElement?t&&this.delegate.selectorMatchElement(e,this.details):t}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(this.selector)).filter((e=>this.matchElement(e)));return t.concat(i)}elementMatched(e){this.selectorMatched(e)}elementUnmatched(e){this.selectorUnmatched(e)}elementAttributeChanged(e,t){const i=this.matchElement(e),n=this.matchesByElement.has(this.selector,e);!i&&n&&this.selectorUnmatched(e)}selectorMatched(e){this.delegate.selectorMatched&&(this.delegate.selectorMatched(e,this.selector,this.details),this.matchesByElement.add(this.selector,e))}selectorUnmatched(e){this.delegate.selectorUnmatched(e,this.selector,this.details),this.matchesByElement.delete(this.selector,e)}}class Ia{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){const t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){const i=this.delegate.getStringMapKeyForAttribute(e);if(null!=i){this.stringMap.has(e)||this.stringMapKeyAdded(i,e);const n=this.element.getAttribute(e);if(this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,i,t),null==n){const t=this.stringMap.get(e);this.stringMap.delete(e),t&&this.stringMapKeyRemoved(i,e,t)}else this.stringMap.set(e,n)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,i){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,i)}stringMapKeyRemoved(e,t,i){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,i)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map((e=>e.name))}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}class Fa{constructor(e,t,i){this.attributeObserver=new xa(e,t,this),this.delegate=i,this.tokensByElement=new Ra}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[t,i]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(i)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach((e=>this.tokenMatched(e)))}tokensUnmatched(e){e.forEach((e=>this.tokenUnmatched(e)))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const t=this.tokensByElement.getValuesForKey(e),i=this.readTokensForElement(e),n=function(e,t){const i=Math.max(e.length,t.length);return Array.from({length:i},((i,n)=>[e[n],t[n]]))}(t,i).findIndex((([e,t])=>!function(e,t){return e&&t&&e.index==t.index&&e.content==t.content}(e,t)));return-1==n?[[],[]]:[t.slice(n),i.slice(n)]}readTokensForElement(e){const t=this.attributeName;return function(e,t,i){return e.trim().split(/\s+/).filter((e=>e.length)).map(((e,n)=>({element:t,attributeName:i,content:e,index:n})))}(e.getAttribute(t)||"",e,t)}}class Da{constructor(e,t,i){this.tokenListObserver=new Fa(e,t,this),this.delegate=i,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:t}=e,{value:i}=this.fetchParseResultForToken(e);i&&(this.fetchValuesByTokenForElement(t).set(e,i),this.delegate.elementMatchedValue(t,i))}tokenUnmatched(e){const{element:t}=e,{value:i}=this.fetchParseResultForToken(e);i&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,i))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(e){return{error:e}}}}class Ba{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Da(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const t=new Oa(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){const t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach((e=>this.delegate.bindingDisconnected(e,!0))),this.bindingsByAction.clear()}parseValueForToken(e){const t=Ca.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}}class $a{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new Ia(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){const i=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,i.writer(this.receiver[e]),i.writer(i.defaultValue))}stringMapValueChanged(e,t,i){const n=this.valueDescriptorNameMap[t];null!==e&&(null===i&&(i=n.writer(n.defaultValue)),this.invokeChangedCallback(t,e,i))}stringMapKeyRemoved(e,t,i){const n=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,n.writer(this.receiver[e]),i):this.invokeChangedCallback(e,n.writer(n.defaultValue),i)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:t,defaultValue:i,writer:n}of this.valueDescriptors)null==i||this.controller.data.has(e)||this.invokeChangedCallback(t,n(i),void 0)}invokeChangedCallback(e,t,i){const n=`${e}Changed`,s=this.receiver[n];if("function"==typeof s){const n=this.valueDescriptorNameMap[e];try{const e=n.reader(t);let r=i;i&&(r=n.reader(i)),s.call(this.receiver,e,r)}catch(e){throw e instanceof TypeError&&(e.message=`Stimulus Value "${this.context.identifier}.${n.name}" - ${e.message}`),e}}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map((t=>e[t]))}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach((t=>{const i=this.valueDescriptorMap[t];e[i.name]=i})),e}hasValue(e){const t=`has${Sa(this.valueDescriptorNameMap[e].name)}`;return this.receiver[t]}}class ja{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new Ra}start(){this.tokenListObserver||(this.tokenListObserver=new Fa(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var i;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),null===(i=this.tokenListObserver)||void 0===i||i.pause((()=>this.delegate.targetConnected(e,t))))}disconnectTarget(e,t){var i;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),null===(i=this.tokenListObserver)||void 0===i||i.pause((()=>this.delegate.targetDisconnected(e,t))))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}function qa(e,t){const i=Va(e);return Array.from(i.reduce(((e,i)=>(function(e,t){const i=e[t];return Array.isArray(i)?i:[]}(i,t).forEach((t=>e.add(t))),e)),new Set))}function Ha(e,t){return Va(e).reduce(((e,i)=>(e.push(...function(e,t){const i=e[t];return i?Object.keys(i).map((e=>[e,i[e]])):[]}(i,t)),e)),[])}function Va(e){const t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}class Wa{constructor(e,t){this.context=e,this.delegate=t,this.outletsByName=new Ra,this.outletElementsByName=new Ra,this.selectorObserverMap=new Map}start(){0===this.selectorObserverMap.size&&(this.outletDefinitions.forEach((e=>{const t=this.selector(e),i={outletName:e};t&&this.selectorObserverMap.set(e,new Na(document.body,t,this,i))})),this.selectorObserverMap.forEach((e=>e.start()))),this.dependentContexts.forEach((e=>e.refresh()))}stop(){this.selectorObserverMap.size>0&&(this.disconnectAllOutlets(),this.selectorObserverMap.forEach((e=>e.stop())),this.selectorObserverMap.clear())}refresh(){this.selectorObserverMap.forEach((e=>e.refresh()))}selectorMatched(e,t,{outletName:i}){const n=this.getOutlet(e,i);n&&this.connectOutlet(n,e,i)}selectorUnmatched(e,t,{outletName:i}){const n=this.getOutletFromMap(e,i);n&&this.disconnectOutlet(n,e,i)}selectorMatchElement(e,{outletName:t}){return this.hasOutlet(e,t)&&e.matches(`[${this.context.application.schema.controllerAttribute}~=${t}]`)}connectOutlet(e,t,i){var n;this.outletElementsByName.has(i,t)||(this.outletsByName.add(i,e),this.outletElementsByName.add(i,t),null===(n=this.selectorObserverMap.get(i))||void 0===n||n.pause((()=>this.delegate.outletConnected(e,t,i))))}disconnectOutlet(e,t,i){var n;this.outletElementsByName.has(i,t)&&(this.outletsByName.delete(i,e),this.outletElementsByName.delete(i,t),null===(n=this.selectorObserverMap.get(i))||void 0===n||n.pause((()=>this.delegate.outletDisconnected(e,t,i))))}disconnectAllOutlets(){for(const e of this.outletElementsByName.keys)for(const t of this.outletElementsByName.getValuesForKey(e))for(const i of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(i,t,e)}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}get outletDependencies(){const e=new Ra;return this.router.modules.forEach((t=>{qa(t.definition.controllerConstructor,"outlets").forEach((i=>e.add(i,t.identifier)))})),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const e=this.dependentControllerIdentifiers;return this.router.contexts.filter((t=>e.includes(t.identifier)))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find((t=>t.element===e))}get scope(){return this.context.scope}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}}class Ua{constructor(e,t){this.logDebugActivity=(e,t={})=>{const{identifier:i,controller:n,element:s}=this;t=Object.assign({identifier:i,controller:n,element:s},t),this.application.logDebugActivity(this.identifier,e,t)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new Ba(this,this.dispatcher),this.valueObserver=new $a(this,this.controller),this.targetObserver=new ja(this,this),this.outletObserver=new Wa(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(e){this.handleError(e,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,i={}){const{identifier:n,controller:s,element:r}=this;i=Object.assign({identifier:n,controller:s,element:r},i),this.application.handleError(e,`Error ${t}`,i)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,i){this.invokeControllerMethod(`${Ea(i)}OutletConnected`,e,t)}outletDisconnected(e,t,i){this.invokeControllerMethod(`${Ea(i)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){const i=this.controller;"function"==typeof i[e]&&i[e](...t)}}function za(e){return function(e,t){const i=Xa(e),n=function(e,t){return Ka(t).reduce(((i,n)=>{const s=function(e,t,i){const n=Object.getOwnPropertyDescriptor(e,i);if(!n||!("value"in n)){const e=Object.getOwnPropertyDescriptor(t,i).value;return n&&(e.get=n.get||e.get,e.set=n.set||e.set),e}}(e,t,n);return s&&Object.assign(i,{[n]:s}),i}),{})}(e.prototype,t);return Object.defineProperties(i.prototype,n),i}(e,function(e){const t=qa(e,"blessings");return t.reduce(((t,i)=>{const n=i(e);for(const e in n){const i=t[e]||{};t[e]=Object.assign(i,n[e])}return t}),{})}(e))}const Ka="function"==typeof Object.getOwnPropertySymbols?e=>[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)]:Object.getOwnPropertyNames,Xa=(()=>{function e(e){function t(){return Reflect.construct(e,arguments,new.target)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}try{return function(){const t=e((function(){this.a.call(this)}));t.prototype.a=function(){},new t}(),e}catch(e){return e=>class extends e{}}})();class Ya{constructor(e,t){this.application=e,this.definition=function(e){return{identifier:e.identifier,controllerConstructor:za(e.controllerConstructor)}}(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){const t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new Ua(this,e),this.contextsByScope.set(e,t)),t}}class Ga{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){const t=this.data.get(this.getDataKey(e))||"";return t.match(/[^\s]+/g)||[]}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}}class Qa{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){const i=this.getAttributeNameForKey(e);return this.element.setAttribute(i,t),this.get(e)}has(e){const t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){const t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Aa(e)}`}}class Ja{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,i){let n=this.warnedKeysByObject.get(e);n||(n=new Set,this.warnedKeysByObject.set(e,n)),n.has(t)||(n.add(t),this.logger.warn(i,e))}}function Za(e,t){return`[${e}~="${t}"]`}class ec{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return null!=this.find(e)}find(...e){return e.reduce(((e,t)=>e||this.findTarget(t)||this.findLegacyTarget(t)),void 0)}findAll(...e){return e.reduce(((e,t)=>[...e,...this.findAllTargets(t),...this.findAllLegacyTargets(t)]),[])}findTarget(e){const t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){const t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){return Za(this.schema.targetAttributeForScope(this.identifier),e)}findLegacyTarget(e){const t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){const t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map((t=>this.deprecate(t,e)))}getLegacySelectorForTargetName(e){const t=`${this.identifier}.${e}`;return Za(this.schema.targetAttribute,t)}deprecate(e,t){if(e){const{identifier:i}=this,n=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(i);this.guide.warn(e,`target:${t}`,`Please replace ${n}="${i}.${t}" with ${s}="${t}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}}class tc{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return null!=this.find(e)}find(...e){return e.reduce(((e,t)=>e||this.findOutlet(t)),void 0)}findAll(...e){return e.reduce(((e,t)=>[...e,...this.findAllOutlets(t)]),[])}getSelectorForOutletName(e){const t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){const t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){const t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter((i=>this.matchesElement(i,e,t)))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter((i=>this.matchesElement(i,e,t)))}matchesElement(e,t,i){const n=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&n.split(" ").includes(i)}}class ic{constructor(e,t,i,n){this.targets=new ec(this),this.classes=new Ga(this),this.data=new Qa(this),this.containsElement=e=>e.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=i,this.guide=new Ja(n),this.outlets=new tc(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Za(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new ic(this.schema,document.documentElement,this.identifier,this.guide.logger)}}class nc{constructor(e,t,i){this.element=e,this.schema=t,this.delegate=i,this.valueListObserver=new Da(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:t,content:i}=e,n=this.fetchScopesByIdentifierForElement(t);let s=n.get(i);return s||(s=this.delegate.createScopeForElementAndIdentifier(t,i),n.set(i,s)),s}elementMatchedValue(e,t){const i=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,i),1==i&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){const i=this.scopeReferenceCounts.get(t);i&&(this.scopeReferenceCounts.set(t,i-1),1==i&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}}class sc{constructor(e){this.application=e,this.scopeObserver=new nc(this.element,this.schema,this),this.scopesByIdentifier=new Ra,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce(((e,t)=>e.concat(t.contexts)),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const t=new Ya(this.application,e);this.connectModule(t);const i=e.controllerConstructor.afterLoad;i&&i(e.identifier,this.application)}unloadIdentifier(e){const t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){const i=this.modulesByIdentifier.get(t);if(i)return i.contexts.find((t=>t.element==e))}handleError(e,t,i){this.application.handleError(e,t,i)}createScopeForElementAndIdentifier(e,t){return new ic(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.connectContextForScope(t)))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.disconnectContextForScope(t)))}}const rc={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:e=>`data-${e}-target`,outletAttributeForScope:(e,t)=>`data-${e}-${t}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End"},oc("abcdefghijklmnopqrstuvwxyz".split("").map((e=>[e,e])))),oc("0123456789".split("").map((e=>[e,e]))))};function oc(e){return e.reduce(((e,[t,i])=>Object.assign(Object.assign({},e),{[t]:i})),{})}function ac([e,t],i){return function(e){const t=`${Aa(e.token)}-value`,i=function(e){const t=function(e){const t=cc(e.typeObject.type);if(!t)return;const i=lc(e.typeObject.default);if(t!==i){const n=e.controller?`${e.controller}.${e.token}`:e.token;throw new Error(`The specified default value for the Stimulus Value "${n}" must match the defined type "${t}". The provided default value of "${e.typeObject.default}" is of type "${i}".`)}return t}({controller:e.controller,token:e.token,typeObject:e.typeDefinition}),i=lc(e.typeDefinition),n=cc(e.typeDefinition),s=t||i||n;if(s)return s;const r=e.controller?`${e.controller}.${e.typeDefinition}`:e.token;throw new Error(`Unknown value type "${r}" for "${e.token}" value`)}(e);return{type:i,key:t,name:_a(t),get defaultValue(){return function(e){const t=cc(e);if(t)return hc[t];const i=e.default;return void 0!==i?i:e}(e.typeDefinition)},get hasCustomDefaultValue(){return void 0!==lc(e.typeDefinition)},reader:uc[i],writer:dc[i]||dc.default}}({controller:i,token:e,typeDefinition:t})}function cc(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function lc(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(e)?"array":"[object Object]"===Object.prototype.toString.call(e)?"object":void 0}const hc={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},uc={array(e){const t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${e}" of type "${lc(t)}"`);return t},boolean:e=>!("0"==e||"false"==String(e).toLowerCase()),number:e=>Number(e),object(e){const t=JSON.parse(e);if(null===t||"object"!=typeof t||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${e}" of type "${lc(t)}"`);return t},string:e=>e},dc={default:function(e){return`${e}`},array:pc,object:pc};function pc(e){return JSON.stringify(e)}class mc{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:i={},prefix:n=this.identifier,bubbles:s=!0,cancelable:r=!0}={}){const o=new CustomEvent(n?`${n}:${e}`:e,{detail:i,bubbles:s,cancelable:r});return t.dispatchEvent(o),o}}mc.blessings=[function(e){return qa(e,"classes").reduce(((e,t)=>{return Object.assign(e,{[`${i=t}Class`]:{get(){const{classes:e}=this;if(e.has(i))return e.get(i);{const t=e.getAttributeName(i);throw new Error(`Missing attribute "${t}"`)}}},[`${i}Classes`]:{get(){return this.classes.getAll(i)}},[`has${Sa(i)}Class`]:{get(){return this.classes.has(i)}}});var i}),{})},function(e){return qa(e,"targets").reduce(((e,t)=>{return Object.assign(e,{[`${i=t}Target`]:{get(){const e=this.targets.find(i);if(e)return e;throw new Error(`Missing target element "${i}" for "${this.identifier}" controller`)}},[`${i}Targets`]:{get(){return this.targets.findAll(i)}},[`has${Sa(i)}Target`]:{get(){return this.targets.has(i)}}});var i}),{})},function(e){const t=Ha(e,"values"),i={valueDescriptorMap:{get(){return t.reduce(((e,t)=>{const i=ac(t,this.identifier),n=this.data.getAttributeNameForKey(i.key);return Object.assign(e,{[n]:i})}),{})}}};return t.reduce(((e,t)=>Object.assign(e,function(e,t){const i=ac(e,t),{key:n,name:s,reader:r,writer:o}=i;return{[s]:{get(){const e=this.data.get(n);return null!==e?r(e):i.defaultValue},set(e){void 0===e?this.data.delete(n):this.data.set(n,o(e))}},[`has${Sa(s)}`]:{get(){return this.data.has(n)||i.hasCustomDefaultValue}}}}(t))),i)},function(e){return qa(e,"outlets").reduce(((e,t)=>Object.assign(e,function(e){const t=Ea(e);return{[`${t}Outlet`]:{get(){const t=this.outlets.find(e);if(t){const i=this.application.getControllerForElementAndIdentifier(t,e);if(i)return i;throw new Error(`Missing "data-controller=${e}" attribute on outlet element for "${this.identifier}" controller`)}throw new Error(`Missing outlet element "${e}" for "${this.identifier}" controller`)}},[`${t}Outlets`]:{get(){const t=this.outlets.findAll(e);return t.length>0?t.map((t=>{const i=this.application.getControllerForElementAndIdentifier(t,e);if(i)return i;console.warn(`The provided outlet element is missing the outlet controller "${e}" for "${this.identifier}"`,t)})).filter((e=>e)):[]}},[`${t}OutletElement`]:{get(){const t=this.outlets.find(e);if(t)return t;throw new Error(`Missing outlet element "${e}" for "${this.identifier}" controller`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(e)}},[`has${Sa(t)}Outlet`]:{get(){return this.outlets.has(e)}}}}(t))),{})}],mc.targets=[],mc.outlets=[],mc.values={};(class extends mc{}).debounces=[];const fc=(e,t=200)=>{let i=null;return function(){const n=Array.from(arguments),s=this,r=n.map((e=>e.params));i&&clearTimeout(i),i=setTimeout((()=>(n.forEach(((e,t)=>e.params=r[t])),e.apply(s,n))),t)}},gc=(e,t)=>{const i=e;i.constructor.debounces.forEach((e=>{if("string"==typeof e&&(i[e]=fc(i[e],null==t?void 0:t.wait)),"object"==typeof e){const{name:n,wait:s}=e;if(!n)return;i[n]=fc(i[n],s||(null==t?void 0:t.wait))}}))};(class extends mc{}).throttles=[];function vc(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}
/*!
 * Splide.js
 * Version  : 4.1.4
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */
var bc="(prefers-reduced-motion: reduce)",yc=1,wc=3,_c=4,Ec=5,Sc=7,Ac={CREATED:yc,MOUNTED:2,IDLE:wc,MOVING:_c,SCROLLING:Ec,DRAGGING:6,DESTROYED:Sc};function Cc(e){e.length=0}function Tc(e,t,i){return Array.prototype.slice.call(e,t,i)}function Lc(e){return e.bind.apply(e,[null].concat(Tc(arguments,1)))}var kc=setTimeout,Oc=function(){};function Mc(e){return requestAnimationFrame(e)}function xc(e,t){return typeof t===e}function Pc(e){return!Dc(e)&&xc("object",e)}var Rc=Array.isArray,Nc=Lc(xc,"function"),Ic=Lc(xc,"string"),Fc=Lc(xc,"undefined");function Dc(e){return null===e}function Bc(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch(e){return!1}}function $c(e){return Rc(e)?e:[e]}function jc(e,t){$c(e).forEach(t)}function qc(e,t){return e.indexOf(t)>-1}function Hc(e,t){return e.push.apply(e,$c(t)),e}function Vc(e,t,i){e&&jc(t,(function(t){t&&e.classList[i?"add":"remove"](t)}))}function Wc(e,t){Vc(e,Ic(t)?t.split(" "):t,!0)}function Uc(e,t){jc(t,e.appendChild.bind(e))}function zc(e,t){jc(e,(function(e){var i=(t||e).parentNode;i&&i.insertBefore(e,t)}))}function Kc(e,t){return Bc(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function Xc(e,t){var i=e?Tc(e.children):[];return t?i.filter((function(e){return Kc(e,t)})):i}function Yc(e,t){return t?Xc(e,t)[0]:e.firstElementChild}var Gc=Object.keys;function Qc(e,t,i){return e&&(i?Gc(e).reverse():Gc(e)).forEach((function(i){"__proto__"!==i&&t(e[i],i)})),e}function Jc(e){return Tc(arguments,1).forEach((function(t){Qc(t,(function(i,n){e[n]=t[n]}))})),e}function Zc(e){return Tc(arguments,1).forEach((function(t){Qc(t,(function(t,i){Rc(t)?e[i]=t.slice():Pc(t)?e[i]=Zc({},Pc(e[i])?e[i]:{},t):e[i]=t}))})),e}function el(e,t){jc(t||Gc(e),(function(t){delete e[t]}))}function tl(e,t){jc(e,(function(e){jc(t,(function(t){e&&e.removeAttribute(t)}))}))}function il(e,t,i){Pc(t)?Qc(t,(function(t,i){il(e,i,t)})):jc(e,(function(e){Dc(i)||""===i?tl(e,t):e.setAttribute(t,String(i))}))}function nl(e,t,i){var n=document.createElement(e);return t&&(Ic(t)?Wc(n,t):il(n,t)),i&&Uc(i,n),n}function sl(e,t,i){if(Fc(i))return getComputedStyle(e)[t];Dc(i)||(e.style[t]=""+i)}function rl(e,t){sl(e,"display",t)}function ol(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function al(e,t){return e.getAttribute(t)}function cl(e,t){return e&&e.classList.contains(t)}function ll(e){return e.getBoundingClientRect()}function hl(e){jc(e,(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}))}function ul(e){return Yc((new DOMParser).parseFromString(e,"text/html").body)}function dl(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function pl(e,t){return e&&e.querySelector(t)}function ml(e,t){return t?Tc(e.querySelectorAll(t)):[]}function fl(e,t){Vc(e,t,!1)}function gl(e){return e.timeStamp}function vl(e){return Ic(e)?e:e?e+"px":""}var bl="splide",yl="data-"+bl;function wl(e,t){if(!e)throw new Error("["+bl+"] "+(t||""))}var _l=Math.min,El=Math.max,Sl=Math.floor,Al=Math.ceil,Cl=Math.abs;function Tl(e,t,i){return Cl(e-t)<i}function Ll(e,t,i,n){var s=_l(t,i),r=El(t,i);return n?s<e&&e<r:s<=e&&e<=r}function kl(e,t,i){var n=_l(t,i),s=El(t,i);return _l(El(n,e),s)}function Ol(e){return+(e>0)-+(e<0)}function Ml(e,t){return jc(t,(function(t){e=e.replace("%s",""+t)})),e}function xl(e){return e<10?"0"+e:""+e}var Pl={};function Rl(){var e=[];function t(e,t,i){jc(e,(function(e){e&&jc(t,(function(t){t.split(" ").forEach((function(t){var n=t.split(".");i(e,n[0],n[1])}))}))}))}return{bind:function(i,n,s,r){t(i,n,(function(t,i,n){var o="addEventListener"in t,a=o?t.removeEventListener.bind(t,i,s,r):t.removeListener.bind(t,s);o?t.addEventListener(i,s,r):t.addListener(s),e.push([t,i,n,s,a])}))},unbind:function(i,n,s){t(i,n,(function(t,i,n){e=e.filter((function(e){return!!(e[0]!==t||e[1]!==i||e[2]!==n||s&&e[3]!==s)||(e[4](),!1)}))}))},dispatch:function(e,t,i){var n;return"function"==typeof CustomEvent?n=new CustomEvent(t,{bubbles:true,detail:i}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,true,!1,i),e.dispatchEvent(n),n},destroy:function(){e.forEach((function(e){e[4]()})),Cc(e)}}}var Nl="mounted",Il="ready",Fl="move",Dl="moved",Bl="click",$l="active",jl="inactive",ql="visible",Hl="hidden",Vl="refresh",Wl="updated",Ul="resize",zl="resized",Kl="scroll",Xl="scrolled",Yl="destroy",Gl="arrows:mounted",Ql="navigation:mounted",Jl="autoplay:play",Zl="autoplay:pause",eh="lazyload:loaded",th="sk",ih="sh",nh="ei";function sh(e){var t=e?e.event.bus:document.createDocumentFragment(),i=Rl();return e&&e.event.on(Yl,i.destroy),Jc(i,{bus:t,on:function(e,n){i.bind(t,$c(e).join(" "),(function(e){n.apply(n,Rc(e.detail)?e.detail:[])}))},off:Lc(i.unbind,t),emit:function(e){i.dispatch(t,e,Tc(arguments,1))}})}function rh(e,t,i,n){var s,r,o=Date.now,a=0,c=!0,l=0;function h(){if(!c){if(a=e?_l((o()-s)/e,1):1,i&&i(a),a>=1&&(t(),s=o(),n&&++l>=n))return u();r=Mc(h)}}function u(){c=!0}function d(){r&&cancelAnimationFrame(r),a=0,r=0,c=!0}return{start:function(t){t||d(),s=o()-(t?a*e:0),c=!1,r=Mc(h)},rewind:function(){s=o(),a=0,i&&i(a)},pause:u,cancel:d,set:function(t){e=t},isPaused:function(){return c}}}var oh="Arrow",ah=oh+"Left",ch=oh+"Right",lh=oh+"Up",hh=oh+"Down",uh="ttb",dh={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[lh,ch],ArrowRight:[hh,ah]};var ph="role",mh="tabindex",fh="aria-",gh=fh+"controls",vh=fh+"current",bh=fh+"selected",yh=fh+"label",wh=fh+"labelledby",_h=fh+"hidden",Eh=fh+"orientation",Sh=fh+"roledescription",Ah=fh+"live",Ch=fh+"busy",Th=fh+"atomic",Lh=[ph,mh,"disabled",gh,vh,yh,wh,_h,Eh,Sh],kh=bl+"__",Oh="is-",Mh=bl,xh=kh+"track",Ph=kh+"list",Rh=kh+"slide",Nh=Rh+"--clone",Ih=Rh+"__container",Fh=kh+"arrows",Dh=kh+"arrow",Bh=Dh+"--prev",$h=Dh+"--next",jh=kh+"pagination",qh=jh+"__page",Hh=kh+"progress"+"__bar",Vh=kh+"toggle",Wh=kh+"sr",Uh=Oh+"initialized",zh=Oh+"active",Kh=Oh+"prev",Xh=Oh+"next",Yh=Oh+"visible",Gh=Oh+"loading",Qh=Oh+"focus-in",Jh=Oh+"overflow",Zh=[zh,Yh,Kh,Xh,Gh,Qh,Jh],eu={slide:Rh,clone:Nh,arrows:Fh,arrow:Dh,prev:Bh,next:$h,pagination:jh,page:qh,spinner:kh+"spinner"};var tu="touchstart mousedown",iu="touchmove mousemove",nu="touchend touchcancel mouseup click";var su="slide",ru="loop",ou="fade";function au(e,t,i,n){var s,r=sh(e),o=r.on,a=r.emit,c=r.bind,l=e.Components,h=e.root,u=e.options,d=u.isNavigation,p=u.updateOnMove,m=u.i18n,f=u.pagination,g=u.slideFocus,v=l.Direction.resolve,b=al(n,"style"),y=al(n,yh),w=i>-1,_=Yc(n,"."+Ih);function E(){var s=e.splides.map((function(e){var i=e.splide.Components.Slides.getAt(t);return i?i.slide.id:""})).join(" ");il(n,yh,Ml(m.slideX,(w?i:t)+1)),il(n,gh,s),il(n,ph,g?"button":""),g&&tl(n,Sh)}function S(){s||A()}function A(){if(!s){var i=e.index;(r=C())!==cl(n,zh)&&(Vc(n,zh,r),il(n,vh,d&&r||""),a(r?$l:jl,T)),function(){var t=function(){if(e.is(ou))return C();var t=ll(l.Elements.track),i=ll(n),s=v("left",!0),r=v("right",!0);return Sl(t[s])<=Al(i[s])&&Sl(i[r])<=Al(t[r])}(),i=!t&&(!C()||w);e.state.is([_c,Ec])||il(n,_h,i||"");il(ml(n,u.focusableNodes||""),mh,i?-1:""),g&&il(n,mh,i?-1:0);t!==cl(n,Yh)&&(Vc(n,Yh,t),a(t?ql:Hl,T));if(!t&&document.activeElement===n){var s=l.Slides.getAt(e.index);s&&ol(s.slide)}}(),Vc(n,Kh,t===i-1),Vc(n,Xh,t===i+1)}var r}function C(){var n=e.index;return n===t||u.cloneStatus&&n===i}var T={index:t,slideIndex:i,slide:n,container:_,isClone:w,mount:function(){w||(n.id=h.id+"-slide"+xl(t+1),il(n,ph,f?"tabpanel":"group"),il(n,Sh,m.slide),il(n,yh,y||Ml(m.slideLabel,[t+1,e.length]))),c(n,"click",Lc(a,Bl,T)),c(n,"keydown",Lc(a,th,T)),o([Dl,ih,Xl],A),o(Ql,E),p&&o(Fl,S)},destroy:function(){s=!0,r.destroy(),fl(n,Zh),tl(n,Lh),il(n,"style",b),il(n,yh,y||"")},update:A,style:function(e,t,i){sl(i&&_||n,e,t)},isWithin:function(i,n){var s=Cl(i-t);return w||!u.rewind&&!e.is(ru)||(s=_l(s,e.length-s)),s<=n}};return T}var cu=yl+"-interval";var lu={passive:!1,capture:!0};var hu={Spacebar:" ",Right:ch,Left:ah,Up:lh,Down:hh};function uu(e){return e=Ic(e)?e:e.key,hu[e]||e}var du="keydown";var pu=yl+"-lazy",mu=pu+"-srcset",fu="["+pu+"], ["+mu+"]";var gu=[" ","Enter"];var vu=Object.freeze({__proto__:null,Media:function(e,t,i){var n=e.state,s=i.breakpoints||{},r=i.reducedMotion||{},o=Rl(),a=[];function c(e){e&&o.destroy()}function l(e,t){var i=matchMedia(t);o.bind(i,"change",h),a.push([e,i])}function h(){var t=n.is(Sc),s=i.direction,r=a.reduce((function(e,t){return Zc(e,t[1].matches?t[0]:{})}),{});el(i),u(r),i.destroy?e.destroy("completely"===i.destroy):t?(c(!0),e.mount()):s!==i.direction&&e.refresh()}function u(t,s,r){Zc(i,t),s&&Zc(Object.getPrototypeOf(i),t),!r&&n.is(yc)||e.emit(Wl,i)}return{setup:function(){var e="min"===i.mediaQuery;Gc(s).sort((function(t,i){return e?+t-+i:+i-+t})).forEach((function(t){l(s[t],"("+(e?"min":"max")+"-width:"+t+"px)")})),l(r,bc),h()},destroy:c,reduce:function(e){matchMedia(bc).matches&&(e?Zc(i,r):el(i,Gc(r)))},set:u}},Direction:function(e,t,i){return{resolve:function(e,t,n){var s="rtl"!==(n=n||i.direction)||t?n===uh?0:-1:1;return dh[e]&&dh[e][s]||e.replace(/width|left|right/i,(function(e,t){var i=dh[e.toLowerCase()][s]||e;return t>0?i.charAt(0).toUpperCase()+i.slice(1):i}))},orient:function(e){return e*("rtl"===i.direction?1:-1)}}},Elements:function(e,t,i){var n,s,r,o=sh(e),a=o.on,c=o.bind,l=e.root,h=i.i18n,u={},d=[],p=[],m=[];function f(){n=b("."+xh),s=Yc(n,"."+Ph),wl(n&&s,"A track/list element is missing."),Hc(d,Xc(s,"."+Rh+":not(."+Nh+")")),Qc({arrows:Fh,pagination:jh,prev:Bh,next:$h,bar:Hh,toggle:Vh},(function(e,t){u[t]=b("."+e)})),Jc(u,{root:l,track:n,list:s,slides:d}),function(){var e=l.id||function(e){return""+e+xl(Pl[e]=(Pl[e]||0)+1)}(bl),t=i.role;l.id=e,n.id=n.id||e+"-track",s.id=s.id||e+"-list",!al(l,ph)&&"SECTION"!==l.tagName&&t&&il(l,ph,t);il(l,Sh,h.carousel),il(s,ph,"presentation")}(),v()}function g(e){var t=Lh.concat("style");Cc(d),fl(l,p),fl(n,m),tl([n,s],t),tl(l,e?t:["style",Sh])}function v(){fl(l,p),fl(n,m),p=y(Mh),m=y(xh),Wc(l,p),Wc(n,m),il(l,yh,i.label),il(l,wh,i.labelledby)}function b(e){var t=pl(l,e);return t&&function(e,t){if(Nc(e.closest))return e.closest(t);for(var i=e;i&&1===i.nodeType&&!Kc(i,t);)i=i.parentElement;return i}(t,"."+Mh)===l?t:void 0}function y(e){return[e+"--"+i.type,e+"--"+i.direction,i.drag&&e+"--draggable",i.isNavigation&&e+"--nav",e===Mh&&zh]}return Jc(u,{setup:f,mount:function(){a(Vl,g),a(Vl,f),a(Wl,v),c(document,tu+" keydown",(function(e){r="keydown"===e.type}),{capture:!0}),c(l,"focusin",(function(){Vc(l,Qh,!!r)}))},destroy:g})},Slides:function(e,t,i){var n=sh(e),s=n.on,r=n.emit,o=n.bind,a=t.Elements,c=a.slides,l=a.list,h=[];function u(){c.forEach((function(e,t){p(e,t,-1)}))}function d(){f((function(e){e.destroy()})),Cc(h)}function p(t,i,n){var s=au(e,i,n,t);s.mount(),h.push(s),h.sort((function(e,t){return e.index-t.index}))}function m(e){return e?g((function(e){return!e.isClone})):h}function f(e,t){m(t).forEach(e)}function g(e){return h.filter(Nc(e)?e:function(t){return Ic(e)?Kc(t.slide,e):qc($c(e),t.index)})}return{mount:function(){u(),s(Vl,d),s(Vl,u)},destroy:d,update:function(){f((function(e){e.update()}))},register:p,get:m,getIn:function(e){var n=t.Controller,s=n.toIndex(e),r=n.hasFocus()?1:i.perPage;return g((function(e){return Ll(e.index,s,s+r-1)}))},getAt:function(e){return g(e)[0]},add:function(e,t){jc(e,(function(e){if(Ic(e)&&(e=ul(e)),Bc(e)){var n=c[t];n?zc(e,n):Uc(l,e),Wc(e,i.classes.slide),s=e,a=Lc(r,Ul),h=ml(s,"img"),(u=h.length)?h.forEach((function(e){o(e,"load error",(function(){--u||a()}))})):a()}var s,a,h,u})),r(Vl)},remove:function(e){hl(g(e).map((function(e){return e.slide}))),r(Vl)},forEach:f,filter:g,style:function(e,t,i){f((function(n){n.style(e,t,i)}))},getLength:function(e){return e?c.length:h.length},isEnough:function(){return h.length>i.perPage}}},Layout:function(e,t,i){var n,s,r,o=sh(e),a=o.on,c=o.bind,l=o.emit,h=t.Slides,u=t.Direction.resolve,d=t.Elements,p=d.root,m=d.track,f=d.list,g=h.getAt,v=h.style;function b(){n=i.direction===uh,sl(p,"maxWidth",vl(i.width)),sl(m,u("paddingLeft"),w(!1)),sl(m,u("paddingRight"),w(!0)),y(!0)}function y(e){var t=ll(p);(e||s.width!==t.width||s.height!==t.height)&&(sl(m,"height",function(){var e="";n&&(wl(e=_(),"height or heightRatio is missing."),e="calc("+e+" - "+w(!1)+" - "+w(!0)+")");return e}()),v(u("marginRight"),vl(i.gap)),v("width",i.autoWidth?null:vl(i.fixedWidth)||(n?"":E())),v("height",vl(i.fixedHeight)||(n?i.autoHeight?null:E():_()),!0),s=t,l(zl),r!==(r=k())&&(Vc(p,Jh,r),l("overflow",r)))}function w(e){var t=i.padding,n=u(e?"right":"left");return t&&vl(t[n]||(Pc(t)?0:t))||"0px"}function _(){return vl(i.height||ll(f).width*i.heightRatio)}function E(){var e=vl(i.gap);return"calc((100%"+(e&&" + "+e)+")/"+(i.perPage||1)+(e&&" - "+e)+")"}function S(){return ll(f)[u("width")]}function A(e,t){var i=g(e||0);return i?ll(i.slide)[u("width")]+(t?0:L()):0}function C(e,t){var i=g(e);if(i){var n=ll(i.slide)[u("right")],s=ll(f)[u("left")];return Cl(n-s)+(t?0:L())}return 0}function T(t){return C(e.length-1)-C(0)+A(0,t)}function L(){var e=g(0);return e&&parseFloat(sl(e.slide,u("marginRight")))||0}function k(){return e.is(ou)||T(!0)>S()}return{mount:function(){var e,t,i;b(),c(window,"resize load",(e=Lc(l,Ul),i=rh(t||0,e,null,1),function(){i.isPaused()&&i.start()})),a([Wl,Vl],b),a(Ul,y)},resize:y,listSize:S,slideSize:A,sliderSize:T,totalSize:C,getPadding:function(e){return parseFloat(sl(m,u("padding"+(e?"Right":"Left"))))||0},isOverflow:k}},Clones:function(e,t,i){var n,s=sh(e),r=s.on,o=t.Elements,a=t.Slides,c=t.Direction.resolve,l=[];function h(){r(Vl,u),r([Wl,Ul],p),(n=m())&&(!function(t){var n=a.get().slice(),s=n.length;if(s){for(;n.length<t;)Hc(n,n);Hc(n.slice(-t),n.slice(0,t)).forEach((function(r,c){var h=c<t,u=function(t,n){var s=t.cloneNode(!0);return Wc(s,i.classes.clone),s.id=e.root.id+"-clone"+xl(n+1),s}(r.slide,c);h?zc(u,n[0].slide):Uc(o.list,u),Hc(l,u),a.register(u,c-t+(h?0:s),r.index)}))}}(n),t.Layout.resize(!0))}function u(){d(),h()}function d(){hl(l),Cc(l),s.destroy()}function p(){var e=m();n!==e&&(n<e||!e)&&s.emit(Vl)}function m(){var n=i.clones;if(e.is(ru)){if(Fc(n)){var s=i[c("fixedWidth")]&&t.Layout.slideSize(0);n=s&&Al(ll(o.track)[c("width")]/s)||i[c("autoWidth")]&&e.length||2*i.perPage}}else n=0;return n}return{mount:h,destroy:d}},Move:function(e,t,i){var n,s=sh(e),r=s.on,o=s.emit,a=e.state.set,c=t.Layout,l=c.slideSize,h=c.getPadding,u=c.totalSize,d=c.listSize,p=c.sliderSize,m=t.Direction,f=m.resolve,g=m.orient,v=t.Elements,b=v.list,y=v.track;function w(){t.Controller.isBusy()||(t.Scroll.cancel(),_(e.index),t.Slides.update())}function _(e){E(T(e,!0))}function E(i,n){if(!e.is(ou)){var s=n?i:function(i){if(e.is(ru)){var n=C(i),s=n>t.Controller.getEnd();(n<0||s)&&(i=S(i,s))}return i}(i);sl(b,"transform","translate"+f("X")+"("+s+"px)"),i!==s&&o(ih)}}function S(e,t){var i=e-k(t),n=p();return e-=g(n*(Al(Cl(i)/n)||1))*(t?1:-1)}function A(){E(L(),!0),n.cancel()}function C(e){for(var i=t.Slides.get(),n=0,s=1/0,r=0;r<i.length;r++){var o=i[r].index,a=Cl(T(o,!0)-e);if(!(a<=s))break;s=a,n=o}return n}function T(t,n){var s=g(u(t-1)-function(e){var t=i.focus;return"center"===t?(d()-l(e,!0))/2:+t*l(e)||0}(t));return n?function(t){i.trimSpace&&e.is(su)&&(t=kl(t,0,g(p(!0)-d())));return t}(s):s}function L(){var e=f("left");return ll(b)[e]-ll(y)[e]+g(h(!1))}function k(e){return T(e?t.Controller.getEnd():0,!!i.trimSpace)}return{mount:function(){n=t.Transition,r([Nl,zl,Wl,Vl],w)},move:function(e,t,i,s){var r,c;e!==t&&(r=e>i,c=g(S(L(),r)),r?c>=0:c<=b[f("scrollWidth")]-ll(y)[f("width")])&&(A(),E(S(L(),e>i),!0)),a(_c),o(Fl,t,i,e),n.start(t,(function(){a(wc),o(Dl,t,i,e),s&&s()}))},jump:_,translate:E,shift:S,cancel:A,toIndex:C,toPosition:T,getPosition:L,getLimit:k,exceededLimit:function(e,t){t=Fc(t)?L():t;var i=!0!==e&&g(t)<g(k(!1)),n=!1!==e&&g(t)>g(k(!0));return i||n},reposition:w}},Controller:function(e,t,i){var n,s,r,o,a=sh(e),c=a.on,l=a.emit,h=t.Move,u=h.getPosition,d=h.getLimit,p=h.toPosition,m=t.Slides,f=m.isEnough,g=m.getLength,v=i.omitEnd,b=e.is(ru),y=e.is(su),w=Lc(T,!1),_=Lc(T,!0),E=i.start||0,S=E;function A(){s=g(!0),r=i.perMove,o=i.perPage,n=O();var e=kl(E,0,v?n:s-1);e!==E&&(E=e,h.reposition())}function C(){n!==O()&&l(nh)}function T(e,t){var i=r||(R()?1:o),s=L(E+i*(e?-1:1),E,!(r||R()));return-1===s&&y&&!Tl(u(),d(!e),1)?e?0:n:t?s:k(s)}function L(t,a,c){if(f()||R()){var l=function(t){if(y&&"move"===i.trimSpace&&t!==E)for(var n=u();n===p(t,!0)&&Ll(t,0,e.length-1,!i.rewind);)t<E?--t:++t;return t}(t);l!==t&&(a=t,t=l,c=!1),t<0||t>n?t=r||!Ll(0,t,a,!0)&&!Ll(n,a,t,!0)?b?c?t<0?-(s%o||o):s:t:i.rewind?t<0?n:0:-1:M(x(t)):c&&t!==a&&(t=M(x(a)+(t<a?-1:1)))}else t=-1;return t}function k(e){return b?(e+s)%s||0:e}function O(){for(var e=s-(R()||b&&r?1:o);v&&e-- >0;)if(p(s-1,!0)!==p(e,!0)){e++;break}return kl(e,0,s-1)}function M(e){return kl(R()?e:o*e,0,n)}function x(e){return R()?_l(e,n):Sl((e>=n?s-1:e)/o)}function P(e){e!==E&&(S=E,E=e)}function R(){return!Fc(i.focus)||i.isNavigation}function N(){return e.state.is([_c,Ec])&&!!i.waitForTransition}return{mount:function(){A(),c([Wl,Vl,nh],A),c(zl,C)},go:function(e,t,i){if(!N()){var s=function(e){var t=E;if(Ic(e)){var i=e.match(/([+\-<>])(\d+)?/)||[],s=i[1],r=i[2];"+"===s||"-"===s?t=L(E+ +(""+s+(+r||1)),E):">"===s?t=r?M(+r):w(!0):"<"===s&&(t=_(!0))}else t=b?e:kl(e,0,n);return t}(e),r=k(s);r>-1&&(t||r!==E)&&(P(r),h.move(s,r,S,i))}},scroll:function(e,i,s,r){t.Scroll.scroll(e,i,s,(function(){var e=k(h.toIndex(u()));P(v?_l(e,n):e),r&&r()}))},getNext:w,getPrev:_,getAdjacent:T,getEnd:O,setIndex:P,getIndex:function(e){return e?S:E},toIndex:M,toPage:x,toDest:function(e){var t=h.toIndex(e);return y?kl(t,0,n):t},hasFocus:R,isBusy:N}},Arrows:function(e,t,i){var n,s,r=sh(e),o=r.on,a=r.bind,c=r.emit,l=i.classes,h=i.i18n,u=t.Elements,d=t.Controller,p=u.arrows,m=u.track,f=p,g=u.prev,v=u.next,b={};function y(){!function(){var e=i.arrows;!e||g&&v||(f=p||nl("div",l.arrows),g=S(!0),v=S(!1),n=!0,Uc(f,[g,v]),!p&&zc(f,m));g&&v&&(Jc(b,{prev:g,next:v}),rl(f,e?"":"none"),Wc(f,s=Fh+"--"+i.direction),e&&(o([Nl,Dl,Vl,Xl,nh],A),a(v,"click",Lc(E,">")),a(g,"click",Lc(E,"<")),A(),il([g,v],gh,m.id),c(Gl,g,v)))}(),o(Wl,w)}function w(){_(),y()}function _(){r.destroy(),fl(f,s),n?(hl(p?[g,v]:f),g=v=null):tl([g,v],Lh)}function E(e){d.go(e,!0)}function S(e){return ul('<button class="'+l.arrow+" "+(e?l.prev:l.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(i.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function A(){if(g&&v){var t=e.index,i=d.getPrev(),n=d.getNext(),s=i>-1&&t<i?h.last:h.prev,r=n>-1&&t>n?h.first:h.next;g.disabled=i<0,v.disabled=n<0,il(g,yh,s),il(v,yh,r),c("arrows:updated",g,v,i,n)}}return{arrows:b,mount:y,destroy:_,update:A}},Autoplay:function(e,t,i){var n,s,r=sh(e),o=r.on,a=r.bind,c=r.emit,l=rh(i.interval,e.go.bind(e,">"),(function(e){var t=u.bar;t&&sl(t,"width",100*e+"%"),c("autoplay:playing",e)})),h=l.isPaused,u=t.Elements,d=t.Elements,p=d.root,m=d.toggle,f=i.autoplay,g="pause"===f;function v(){h()&&t.Slides.isEnough()&&(l.start(!i.resetProgress),s=n=g=!1,w(),c(Jl))}function b(e){void 0===e&&(e=!0),g=!!e,w(),h()||(l.pause(),c(Zl))}function y(){g||(n||s?b(!1):v())}function w(){m&&(Vc(m,zh,!g),il(m,yh,i.i18n[g?"play":"pause"]))}function _(e){var n=t.Slides.getAt(e);l.set(n&&+al(n.slide,cu)||i.interval)}return{mount:function(){f&&(!function(){i.pauseOnHover&&a(p,"mouseenter mouseleave",(function(e){n="mouseenter"===e.type,y()}));i.pauseOnFocus&&a(p,"focusin focusout",(function(e){s="focusin"===e.type,y()}));m&&a(m,"click",(function(){g?v():b(!0)}));o([Fl,Kl,Vl],l.rewind),o(Fl,_)}(),m&&il(m,gh,u.track.id),g||v(),w())},destroy:l.cancel,play:v,pause:b,isPaused:h}},Cover:function(e,t,i){var n=sh(e).on;function s(e){t.Slides.forEach((function(t){var i=Yc(t.container||t.slide,"img");i&&i.src&&r(e,i,t)}))}function r(e,t,i){i.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),rl(t,e?"none":"")}return{mount:function(){i.cover&&(n(eh,Lc(r,!0)),n([Nl,Wl,Vl],Lc(s,!0)))},destroy:Lc(s,!1)}},Scroll:function(e,t,i){var n,s,r=sh(e),o=r.on,a=r.emit,c=e.state.set,l=t.Move,h=l.getPosition,u=l.getLimit,d=l.exceededLimit,p=l.translate,m=e.is(su),f=1;function g(e,i,r,o,u){var p=h();if(y(),r&&(!m||!d())){var g=t.Layout.sliderSize(),w=Ol(e)*g*Sl(Cl(e)/g)||0;e=l.toPosition(t.Controller.toDest(e%g))+w}var _=Tl(p,e,1);f=1,i=_?0:i||El(Cl(e-p)/1.5,800),s=o,n=rh(i,v,Lc(b,p,e,u),1),c(Ec),a(Kl),n.start()}function v(){c(wc),s&&s(),a(Xl)}function b(e,t,n,r){var o=h(),a=e+(t-e)*function(e){var t=i.easingFunc;return t?t(e):1-Math.pow(1-e,4)}(r),c=(a-o)*f;p(o+c),m&&!n&&d()&&(f*=.6,Cl(c)<10&&g(u(d(!0)),600,!1,s,!0))}function y(){n&&n.cancel()}function w(){n&&!n.isPaused()&&(y(),v())}return{mount:function(){o(Fl,y),o([Wl,Vl],w)},destroy:y,scroll:g,cancel:w}},Drag:function(e,t,i){var n,s,r,o,a,c,l,h,u=sh(e),d=u.on,p=u.emit,m=u.bind,f=u.unbind,g=e.state,v=t.Move,b=t.Scroll,y=t.Controller,w=t.Elements.track,_=t.Media.reduce,E=t.Direction,S=E.resolve,A=E.orient,C=v.getPosition,T=v.exceededLimit,L=!1;function k(){var e=i.drag;$(!e),o="free"===e}function O(e){if(c=!1,!l){var t=B(e);n=e.target,s=i.noDrag,Kc(n,"."+qh+", ."+Dh)||s&&Kc(n,s)||!t&&e.button||(y.isBusy()?dl(e,!0):(h=t?w:window,a=g.is([_c,Ec]),r=null,m(h,iu,M,lu),m(h,nu,x,lu),v.cancel(),b.cancel(),R(e)))}var n,s}function M(t){if(g.is(6)||(g.set(6),p("drag")),t.cancelable)if(a){v.translate(n+N(t)/(L&&e.is(su)?5:1));var s=I(t)>200,r=L!==(L=T());(s||r)&&R(t),c=!0,p("dragging"),dl(t)}else(function(e){return Cl(N(e))>Cl(N(e,!0))})(t)&&(a=function(e){var t=i.dragMinThreshold,n=Pc(t),s=n&&t.mouse||0,r=(n?t.touch:+t)||10;return Cl(N(e))>(B(e)?r:s)}(t),dl(t))}function x(n){g.is(6)&&(g.set(wc),p("dragged")),a&&(!function(n){var s=function(t){if(e.is(ru)||!L){var i=I(t);if(i&&i<200)return N(t)/i}return 0}(n),r=function(e){return C()+Ol(e)*_l(Cl(e)*(i.flickPower||600),o?1/0:t.Layout.listSize()*(i.flickMaxPages||1))}(s),a=i.rewind&&i.rewindByDrag;_(!1),o?y.scroll(r,0,i.snap):e.is(ou)?y.go(A(Ol(s))<0?a?"<":"-":a?">":"+"):e.is(su)&&L&&a?y.go(T(!0)?">":"<"):y.go(y.toDest(r),!0);_(!0)}(n),dl(n)),f(h,iu,M),f(h,nu,x),a=!1}function P(e){!l&&c&&dl(e,!0)}function R(e){r=s,s=e,n=C()}function N(e,t){return D(e,t)-D(F(e),t)}function I(e){return gl(e)-gl(F(e))}function F(e){return s===e&&r||s}function D(e,t){return(B(e)?e.changedTouches[0]:e)["page"+S(t?"Y":"X")]}function B(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function $(e){l=e}return{mount:function(){m(w,iu,Oc,lu),m(w,nu,Oc,lu),m(w,tu,O,lu),m(w,"click",P,{capture:!0}),m(w,"dragstart",dl),d([Nl,Wl],k)},disable:$,isDragging:function(){return a}}},Keyboard:function(e,t,i){var n,s,r=sh(e),o=r.on,a=r.bind,c=r.unbind,l=e.root,h=t.Direction.resolve;function u(){var e=i.keyboard;e&&(n="global"===e?window:l,a(n,du,m))}function d(){c(n,du)}function p(){var e=s;s=!0,kc((function(){s=e}))}function m(t){if(!s){var i=uu(t);i===h(ah)?e.go("<"):i===h(ch)&&e.go(">")}}return{mount:function(){u(),o(Wl,d),o(Wl,u),o(Fl,p)},destroy:d,disable:function(e){s=e}}},LazyLoad:function(e,t,i){var n=sh(e),s=n.on,r=n.off,o=n.bind,a=n.emit,c="sequential"===i.lazyLoad,l=[Dl,Xl],h=[];function u(){Cc(h),t.Slides.forEach((function(e){ml(e.slide,fu).forEach((function(t){var n=al(t,pu),s=al(t,mu);if(n!==t.src||s!==t.srcset){var r=i.classes.spinner,o=t.parentElement,a=Yc(o,"."+r)||nl("span",r,o);h.push([t,e,a]),t.src||rl(t,"none")}}))})),c?f():(r(l),s(l,d),d())}function d(){(h=h.filter((function(t){var n=i.perPage*((i.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,n)||p(t)}))).length||r(l)}function p(e){var t=e[0];Wc(e[1].slide,Gh),o(t,"load error",Lc(m,e)),il(t,"src",al(t,pu)),il(t,"srcset",al(t,mu)),tl(t,pu),tl(t,mu)}function m(e,t){var i=e[0],n=e[1];fl(n.slide,Gh),"error"!==t.type&&(hl(e[2]),rl(i,""),a(eh,i,n),a(Ul)),c&&f()}function f(){h.length&&p(h.shift())}return{mount:function(){i.lazyLoad&&(u(),s(Vl,u))},destroy:Lc(Cc,h),check:d}},Pagination:function(e,t,i){var n,s,r=sh(e),o=r.on,a=r.emit,c=r.bind,l=t.Slides,h=t.Elements,u=t.Controller,d=u.hasFocus,p=u.getIndex,m=u.go,f=t.Direction.resolve,g=h.pagination,v=[];function b(){n&&(hl(g?Tc(n.children):n),fl(n,s),Cc(v),n=null),r.destroy()}function y(e){m(">"+e,!0)}function w(e,t){var i=v.length,n=uu(t),s=_(),r=-1;n===f(ch,!1,s)?r=++e%i:n===f(ah,!1,s)?r=(--e+i)%i:"Home"===n?r=0:"End"===n&&(r=i-1);var o=v[r];o&&(ol(o.button),m(">"+r),dl(t,!0))}function _(){return i.paginationDirection||i.direction}function E(e){return v[u.toPage(e)]}function S(){var e=E(p(!0)),t=E(p());if(e){var i=e.button;fl(i,zh),tl(i,bh),il(i,mh,-1)}if(t){var s=t.button;Wc(s,zh),il(s,bh,!0),il(s,mh,"")}a("pagination:updated",{list:n,items:v},e,t)}return{items:v,mount:function t(){b(),o([Wl,Vl,nh],t);var r=i.pagination;g&&rl(g,r?"":"none"),r&&(o([Fl,Kl,Xl],S),function(){var t=e.length,r=i.classes,o=i.i18n,a=i.perPage,p=d()?u.getEnd()+1:Al(t/a);Wc(n=g||nl("ul",r.pagination,h.track.parentElement),s=jh+"--"+_()),il(n,ph,"tablist"),il(n,yh,o.select),il(n,Eh,_()===uh?"vertical":"");for(var m=0;m<p;m++){var f=nl("li",null,n),b=nl("button",{class:r.page,type:"button"},f),E=l.getIn(m).map((function(e){return e.slide.id})),S=!d()&&a>1?o.pageX:o.slideX;c(b,"click",Lc(y,m)),i.paginationKeyboard&&c(b,"keydown",Lc(w,m)),il(f,ph,"presentation"),il(b,ph,"tab"),il(b,gh,E.join(" ")),il(b,yh,Ml(S,m+1)),il(b,mh,-1),v.push({li:f,button:b,page:m})}}(),S(),a("pagination:mounted",{list:n,items:v},E(e.index)))},destroy:b,getAt:E,update:S}},Sync:function(e,t,i){var n=i.isNavigation,s=i.slideFocus,r=[];function o(){var t,i;e.splides.forEach((function(t){t.isParent||(c(e,t.splide),c(t.splide,e))})),n&&(t=sh(e),(i=t.on)(Bl,h),i(th,u),i([Nl,Wl],l),r.push(t),t.emit(Ql,e.splides))}function a(){r.forEach((function(e){e.destroy()})),Cc(r)}function c(e,t){var i=sh(e);i.on(Fl,(function(e,i,n){t.go(t.is(ru)?n:e)})),r.push(i)}function l(){il(t.Elements.list,Eh,i.direction===uh?"vertical":"")}function h(t){e.go(t.index)}function u(e,t){qc(gu,uu(t))&&(h(e),dl(t))}return{setup:Lc(t.Media.set,{slideFocus:Fc(s)?n:s},!0),mount:o,destroy:a,remount:function(){a(),o()}}},Wheel:function(e,t,i){var n=sh(e).bind,s=0;function r(n){if(n.cancelable){var r=n.deltaY,o=r<0,a=gl(n),c=i.wheelMinThreshold||0,l=i.wheelSleep||0;Cl(r)>c&&a-s>l&&(e.go(o?"<":">"),s=a),function(n){return!i.releaseWheel||e.state.is(_c)||-1!==t.Controller.getAdjacent(n)}(o)&&dl(n)}}return{mount:function(){i.wheel&&n(t.Elements.track,"wheel",r,lu)}}},Live:function(e,t,i){var n=sh(e).on,s=t.Elements.track,r=i.live&&!i.isNavigation,o=nl("span",Wh),a=rh(90,Lc(c,!1));function c(e){il(s,Ch,e),e?(Uc(s,o),a.start()):(hl(o),a.cancel())}function l(e){r&&il(s,Ah,e?"off":"polite")}return{mount:function(){r&&(l(!t.Autoplay.isPaused()),il(s,Th,!0),o.textContent="",n(Jl,Lc(l,!0)),n(Zl,Lc(l,!1)),n([Dl,Xl],Lc(c,!0)))},disable:l,destroy:function(){tl(s,[Ah,Th,Ch]),hl(o)}}}}),bu={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:eu,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function yu(e,t,i){var n=t.Slides;function s(){n.forEach((function(e){e.style("transform","translateX(-"+100*e.index+"%)")}))}return{mount:function(){sh(e).on([Nl,Vl],s)},start:function(e,t){n.style("transition","opacity "+i.speed+"ms "+i.easing),kc(t)},cancel:Oc}}function wu(e,t,i){var n,s=t.Move,r=t.Controller,o=t.Scroll,a=t.Elements.list,c=Lc(sl,a,"transition");function l(){c(""),o.cancel()}return{mount:function(){sh(e).bind(a,"transitionend",(function(e){e.target===a&&n&&(l(),n())}))},start:function(t,a){var l=s.toPosition(t,!0),h=s.getPosition(),u=function(t){var n=i.rewindSpeed;if(e.is(su)&&n){var s=r.getIndex(!0),o=r.getEnd();if(0===s&&t>=o||s>=o&&0===t)return n}return i.speed}(t);Cl(l-h)>=1&&u>=1?i.useScroll?o.scroll(l,u,!1,a):(c("transform "+u+"ms "+i.easing),s.translate(l,!0),n=a):(s.jump(t),a())},cancel:l}}var _u=function(){function e(t,i){var n;this.event=sh(),this.Components={},this.state=(n=yc,{set:function(e){n=e},is:function(e){return qc($c(e),n)}}),this.splides=[],this._o={},this._E={};var s=Ic(t)?pl(document,t):t;wl(s,s+" is invalid."),this.root=s,i=Zc({label:al(s,yh)||"",labelledby:al(s,wh)||""},bu,e.defaults,i||{});try{Zc(i,JSON.parse(al(s,yl)))}catch(e){wl(!1,"Invalid JSON")}this._o=Object.create(Zc({},i))}var t,i,n,s=e.prototype;return s.mount=function(e,t){var i=this,n=this.state,s=this.Components;return wl(n.is([yc,Sc]),"Already mounted!"),n.set(yc),this._C=s,this._T=t||this._T||(this.is(ou)?yu:wu),this._E=e||this._E,Qc(Jc({},vu,this._E,{Transition:this._T}),(function(e,t){var n=e(i,s,i._o);s[t]=n,n.setup&&n.setup()})),Qc(s,(function(e){e.mount&&e.mount()})),this.emit(Nl),Wc(this.root,Uh),n.set(wc),this.emit(Il),this},s.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(wc)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},s.go=function(e){return this._C.Controller.go(e),this},s.on=function(e,t){return this.event.on(e,t),this},s.off=function(e){return this.event.off(e),this},s.emit=function(e){var t;return(t=this.event).emit.apply(t,[e].concat(Tc(arguments,1))),this},s.add=function(e,t){return this._C.Slides.add(e,t),this},s.remove=function(e){return this._C.Slides.remove(e),this},s.is=function(e){return this._o.type===e},s.refresh=function(){return this.emit(Vl),this},s.destroy=function(e){void 0===e&&(e=!0);var t=this.event,i=this.state;return i.is(yc)?sh(this).on(Il,this.destroy.bind(this,e)):(Qc(this._C,(function(t){t.destroy&&t.destroy(e)}),!0),t.emit(Yl),t.destroy(),e&&Cc(this.splides),i.set(Sc)),this},t=e,(i=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&vc(t.prototype,i),n&&vc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Eu=_u;Eu.defaults={},Eu.STATES=Ac;class Su extends mc{initialize(){this.scroll=this.scroll.bind(this)}connect(){this.element.addEventListener("click",this.scroll)}disconnect(){this.element.removeEventListener("click",this.scroll)}scroll(e){e.preventDefault();const t=this.element.hash.replace(/^#/,""),i=document.getElementById(t);if(!i)return void console.warn(`[stimulus-scroll-to] The element with the id: "${t}" does not exist on the page.`);const n=i.getBoundingClientRect().top+window.pageYOffset-this.offset;window.scrollTo({top:n,behavior:this.behavior})}get offset(){return this.hasOffsetValue?this.offsetValue:void 0!==this.defaultOptions.offset?this.defaultOptions.offset:10}get behavior(){return this.behaviorValue||this.defaultOptions.behavior||"smooth"}get defaultOptions(){return{}}}Su.values={offset:Number,behavior:String};window.Stimulus=class{constructor(e=document.documentElement,t=rc){this.logger=console,this.debug=!1,this.logDebugActivity=(e,t,i={})=>{this.debug&&this.logFormattedMessage(e,t,i)},this.element=e,this.schema=t,this.dispatcher=new va(this),this.router=new sc(this),this.actionDescriptorFilters=Object.assign({},ba)}static start(e,t){const i=new this(e,t);return i.start(),i}async start(){await new Promise((e=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>e())):e()})),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>{e.controllerConstructor.shouldLoad&&this.router.loadDefinition(e)}))}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>this.router.unloadIdentifier(e)))}get controllers(){return this.router.contexts.map((e=>e.controller))}getControllerForElementAndIdentifier(e,t){const i=this.router.getContextForElementAndIdentifier(e,t);return i?i.controller:null}handleError(e,t,i){var n;this.logger.error("%s\n\n%o\n\n%o",t,e,i),null===(n=window.onerror)||void 0===n||n.call(window,t,"",0,0,e)}logFormattedMessage(e,t,i={}){i=Object.assign({application:this},i),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},i)),this.logger.groupEnd()}}.start(),Stimulus.register("bs-instance",class extends mc{static values={class:String,connection:String,method:String};connect(){if(this.hasConnectionValue){const e=bootstrap[this.classValue].getOrCreateInstance(this.element);if(null==e)return;e[this.connectionValue]()}}manipulate(){const e=bootstrap[this.classValue].getInstance(this.element);null!=e&&e[this.methodValue]()}}),Stimulus.register("form",class extends mc{static targets=["submitButton","radioButton","optionTypeContainer"];static values={delay:{default:0,type:Number}};static debounces=[{name:"submitViaClick"}];initialize(){this.submitViaClick=this.submitViaClick.bind(this)}connect(){gc(this,{wait:this.delayValue}),this.hasSubmitButtonTarget&&(this.submitButtonTarget.style.display="none")}submitViaClick(e){this.submitButtonTarget.click()}submitWithNearestSubmitButton(e){this.submitButtonTarget.click()}removeSelection(e){this.radioButtonTargets.forEach((t=>{t.dataset.radioIndexValue>=e.target.dataset.radioIndexValue&&(t.checked=!1)}))}resetRadiosWithHigherIndex(e){this.radioButtonTargets.forEach((t=>{t.dataset.radioIndexValue>e.target.dataset.radioIndexValue&&(t.checked=!1,t.disabled=!0)}))}optionContainterCheck(e){this.optionTypeContainerTargets.forEach((e=>{if(e.querySelector('input[type="radio"]:checked')){const t=e.querySelector(".reset-selection");t&&(t.style.display="block")}}))}}),Stimulus.register("modal",class extends mc{connect(){if(document.documentElement.hasAttribute("data-turbo-preview")){const e=document.querySelector(".modal-backdrop");e&&e.remove()}else this.modal=new bootstrap.Modal(this.element,{keyboard:!1}),this.modal.show()}disconnect(){this.modal&&this.modal.dispose()}submitEnd(e){!0!==e.detail.formSubmission.submitter.formNoValidate&&e.detail.success&&this.modal.hide()}}),Stimulus.register("micro-form",class extends mc{static targets=["submitButton","radioButton","optionTypeContainer"];static values={delay:{default:0,type:Number}};static debounces=[{name:"submitViaClick"}];initialize(){this.submitViaClick=this.submitViaClick.bind(this)}connect(){gc(this,{wait:this.delayValue}),this.hasSubmitButtonTarget&&(this.submitButtonTarget.style.display="none")}submitViaClick(e){this.submitButtonTarget.click()}}),Stimulus.register("slider",class extends mc{connect(){this.slider.mount()}disconect(){this.slider.destroy(!0)}get slider(){return new Eu(this.element,{type:"slider",rewind:!0,lazyLoad:"sequential"})}}),Stimulus.register("scroll",class extends Su{static debounces=["scroll"];connect(){gc(this,{wait:300}),this.scroll()}scroll(){const e=this.element.getAttribute("data-controller"),t=[...new Set(e.split(" "))].filter((e=>""!==e));if(t.includes("scroll")){const e=this.element.getBoundingClientRect().top+window.pageYOffset-60;window.scrollTo({top:e,behavior:"smooth"})}}});const Au={};window.AypexStorefront||(window.AypexStorefront=Au);const Cu=function(e){const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),i=window.location.search;return`${t+window.AypexStorefront.paths.platform_api_mounted_at+e+i}`};Au.localizedPathFor=function(e){const t=this.localization.default_locale,i=this.localization.current_locale,n=this.localization.default_currency,s=this.localization.current_currency;if(t!==i||n!==s){const t=new URL(Cu(e)),n=t.searchParams,r=t.pathname;return n.set("locale",i),n.set("currency",s),t.origin+r+"?"+n.toString()}return Cu(e)},console.log("Aypex Storefront Initialized");var Tu={logger:self.console,WebSocket:self.WebSocket},Lu={log(...e){this.enabled&&(e.push(Date.now()),Tu.logger.log("[ActionCable]",...e))}};const ku=()=>(new Date).getTime(),Ou=e=>(ku()-e)/1e3;class Mu{constructor(e){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=e,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=ku(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),Lu.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=ku(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),Lu.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordPing(){this.pingedAt=ku()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,Lu.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=ku(),Lu.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout((()=>{this.reconnectIfStale(),this.poll()}),this.getPollInterval())}getPollInterval(){const{staleThreshold:e,reconnectionBackoffRate:t}=this.constructor;return 1e3*e*Math.pow(1+t,Math.min(this.reconnectAttempts,10))*(1+(0===this.reconnectAttempts?1:t)*Math.random())}reconnectIfStale(){this.connectionIsStale()&&(Lu.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${Ou(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?Lu.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${Ou(this.disconnectedAt)} s`):(Lu.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return Ou(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&Ou(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){"visible"===document.visibilityState&&setTimeout((()=>{!this.connectionIsStale()&&this.connection.isOpen()||(Lu.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())}),200)}}Mu.staleThreshold=6,Mu.reconnectionBackoffRate=.15;var xu=Mu,Pu={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]};const{message_types:Ru,protocols:Nu}=Pu,Iu=Nu.slice(0,Nu.length-1),Fu=[].indexOf;class Du{constructor(e){this.open=this.open.bind(this),this.consumer=e,this.subscriptions=this.consumer.subscriptions,this.monitor=new xu(this),this.disconnected=!0}send(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)}open(){return this.isActive()?(Lu.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1):(Lu.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${Nu}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new Tu.WebSocket(this.consumer.url,Nu),this.installEventHandlers(),this.monitor.start(),!0)}close({allowReconnect:e}={allowReconnect:!0}){if(e||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(Lu.log(`Reopening WebSocket, current state is ${this.getState()}`),!this.isActive())return this.open();try{return this.close()}catch(e){Lu.log("Failed to reopen WebSocket",e)}finally{Lu.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}isProtocolSupported(){return Fu.call(Iu,this.getProtocol())>=0}isState(...e){return Fu.call(e,this.getState())>=0}getState(){if(this.webSocket)for(let e in Tu.WebSocket)if(Tu.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase();return null}installEventHandlers(){for(let e in this.events){const t=this.events[e].bind(this);this.webSocket[`on${e}`]=t}}uninstallEventHandlers(){for(let e in this.events)this.webSocket[`on${e}`]=function(){}}}Du.reopenDelay=500,Du.prototype.events={message(e){if(!this.isProtocolSupported())return;const{identifier:t,message:i,reason:n,reconnect:s,type:r}=JSON.parse(e.data);switch(r){case Ru.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case Ru.disconnect:return Lu.log(`Disconnecting. Reason: ${n}`),this.close({allowReconnect:s});case Ru.ping:return this.monitor.recordPing();case Ru.confirmation:return this.subscriptions.confirmSubscription(t),this.subscriptions.notify(t,"connected");case Ru.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",i)}},open(){if(Lu.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return Lu.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(e){if(Lu.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){Lu.log("WebSocket onerror event")}};var Bu=Du;class $u{constructor(e,t={},i){this.consumer=e,this.identifier=JSON.stringify(t),function(e,t){if(null!=t)for(let i in t){const n=t[i];e[i]=n}}(this,i)}perform(e,t={}){return t.action=e,this.send(t)}send(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}var ju=class{constructor(e){this.subscriptions=e,this.pendingSubscriptions=[]}guarantee(e){-1==this.pendingSubscriptions.indexOf(e)?(Lu.log(`SubscriptionGuarantor guaranteeing ${e.identifier}`),this.pendingSubscriptions.push(e)):Lu.log(`SubscriptionGuarantor already guaranteeing ${e.identifier}`),this.startGuaranteeing()}forget(e){Lu.log(`SubscriptionGuarantor forgetting ${e.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter((t=>t!==e))}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout((()=>{this.subscriptions&&"function"==typeof this.subscriptions.subscribe&&this.pendingSubscriptions.map((e=>{Lu.log(`SubscriptionGuarantor resubscribing ${e.identifier}`),this.subscriptions.subscribe(e)}))}),500)}};class qu{constructor(e){this.consumer=e,this.guarantor=new ju(this),this.subscriptions=[]}create(e,t){const i="object"==typeof e?e:{channel:e},n=new $u(this.consumer,i,t);return this.add(n)}add(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.subscribe(e),e}remove(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e}reject(e){return this.findAll(e).map((e=>(this.forget(e),this.notify(e,"rejected"),e)))}forget(e){return this.guarantor.forget(e),this.subscriptions=this.subscriptions.filter((t=>t!==e)),e}findAll(e){return this.subscriptions.filter((t=>t.identifier===e))}reload(){return this.subscriptions.map((e=>this.subscribe(e)))}notifyAll(e,...t){return this.subscriptions.map((i=>this.notify(i,e,...t)))}notify(e,t,...i){let n;return n="string"==typeof e?this.findAll(e):[e],n.map((e=>"function"==typeof e[t]?e[t](...i):void 0))}subscribe(e){this.sendCommand(e,"subscribe")&&this.guarantor.guarantee(e)}confirmSubscription(e){Lu.log(`Subscription confirmed ${e}`),this.findAll(e).map((e=>this.guarantor.forget(e)))}sendCommand(e,t){const{identifier:i}=e;return this.consumer.send({command:t,identifier:i})}}class Hu{constructor(e){this._url=e,this.subscriptions=new qu(this),this.connection=new Bu(this)}get url(){return Vu(this._url)}send(e){return this.connection.send(e)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}}function Vu(e){if("function"==typeof e&&(e=e()),e&&!/^wss?:/i.test(e)){const t=document.createElement("a");return t.href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href}return e}function Wu(e){const t=document.head.querySelector(`meta[name='action-cable-${e}']`);if(t)return t.getAttribute("content")}var Uu=Object.freeze({__proto__:null,Connection:Bu,ConnectionMonitor:xu,Consumer:Hu,INTERNAL:Pu,Subscription:$u,Subscriptions:qu,SubscriptionGuarantor:ju,adapters:Tu,createWebSocketURL:Vu,logger:Lu,createConsumer:function(e=Wu("url")||Pu.default_mount_path){return new Hu(e)},getConfig:Wu});
//# sourceMappingURL=aypex_storefront.min.js.map
